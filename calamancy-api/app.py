from flask import Flask, request, jsonify
import re
import time
import traceback
import sys
import numpy
import calamancy
import spacy
import httpx
import os
from openai import OpenAI

# Import our custom modules
from text_processor import clean_and_normalize_text, split_into_sentences, enhance_measurement_references
from entity_extractor import extract_key_elements, extract_important_terms, extract_structured_elements, extract_main_subject
from context_analyzer import analyze_document_context, extract_measurement_context, identify_cross_section_entities, get_relevant_entities_for_section, get_semantic_relationship, get_contextual_relationship, determine_optimal_section_order
from section_analyzer import extract_sections_improved, extract_sections_for_evaluation
from summary_generator import create_multi_section_summary, create_simple_summary

app = Flask(__name__)

# Create a client that explicitly has no proxies
http_client = httpx.Client(proxies=None)

# Use this client for OpenAI
client = OpenAI(
    api_key=os.getenv("OPENAI_API_KEY"),
    http_client=http_client
)

try:
    import numpy
    print(f"NumPy version: {numpy.__version__}")
    import spacy
    print(f"spaCy version: {spacy.__version__}")
    import calamancy
    print(f"Loading calamancy model...")
    
    # Use the versioned model name
    nlp = calamancy.load("tl_calamancy_md-0.2.0")
    print("Model loaded successfully")
except Exception as e:
    print(f"Error loading dependencies: {e}")
    traceback.print_exc()
    sys.exit(1)

    
medical_patterns = [
    # Persons/Roles
    {"label": "PER", "pattern": "Lolo"},
    {"label": "PER", "pattern": "Lola"},
    {"label": "PER", "pattern": "Nanay"},
    {"label": "PER", "pattern": "Tatay"},
    {"label": "PER", "pattern": "tagapag-alaga"},
    {"label": "PER", "pattern": "caregiver"},
    {"label": "PER", "pattern": "doktor"},
    {"label": "PER", "pattern": "nurse"},
    {"label": "PER", "pattern": "physical therapist"},
    {"label": "PER", "pattern": "Kuya"},
    {"label": "PER", "pattern": "Ate"},
    {"label": "PER", "pattern": "Tito"},
    {"label": "PER", "pattern": "Tita"},
    {"label": "PER", "pattern": "kasambahay"},
    {"label": "PER", "pattern": "bantay"},
    
    # Body Parts
    {"label": "BODY_PART", "pattern": "dibdib"},
    {"label": "BODY_PART", "pattern": "puso"},
    {"label": "BODY_PART", "pattern": "tiyan"},
    {"label": "BODY_PART", "pattern": "kamay"},
    {"label": "BODY_PART", "pattern": "daliri"},
    {"label": "BODY_PART", "pattern": "kasukasuan"},
    {"label": "BODY_PART", "pattern": "tuhod"},
    {"label": "BODY_PART", "pattern": "balakang"},
    {"label": "BODY_PART", "pattern": "likod"},
    {"label": "BODY_PART", "pattern": "binti"},
    {"label": "BODY_PART", "pattern": "paa"},
    {"label": "BODY_PART", "pattern": "mata"},
    {"label": "BODY_PART", "pattern": "tenga"},
    {"label": "BODY_PART", "pattern": "bibig"},
    {"label": "BODY_PART", "pattern": "labi"},
    {"label": "BODY_PART", "pattern": "mukha"},
    {"label": "BODY_PART", "pattern": "ngipin"},
    {"label": "BODY_PART", "pattern": "batok"},
    {"label": "BODY_PART", "pattern": "ulo"},
    {"label": "BODY_PART", "pattern": "utak"},
    {"label": "BODY_PART", "pattern": "leeg"},
    {"label": "BODY_PART", "pattern": "braso"},
    {"label": "BODY_PART", "pattern": "balikat"},
    {"label": "BODY_PART", "pattern": "baywang"},
    {"label": "BODY_PART", "pattern": "lungs"},
    {"label": "BODY_PART", "pattern": "baga"},
    {"label": "BODY_PART", "pattern": "atay"},
    {"label": "BODY_PART", "pattern": "kidney"},
    {"label": "BODY_PART", "pattern": "bato"},
    {"label": "BODY_PART", "pattern": "lower back"},
    {"label": "BODY_PART", "pattern": "joints"},
    {"label": "BODY_PART", "pattern": "bladder"},
    {"label": "BODY_PART", "pattern": "pantog"},
    {"label": "BODY_PART", "pattern": "balat"},
    {"label": "BODY_PART", "pattern": "quadriceps"},
    {"label": "BODY_PART", "pattern": "kalamnan"},
    {"label": "BODY_PART", "pattern": "tissue"},
    {"label": "BODY_PART", "pattern": "arteries"},
    {"label": "BODY_PART", "pattern": "ugat"},
    {"label": "BODY_PART", "pattern": "spinal cord"},
    {"label": "BODY_PART", "pattern": "gulugod"},
    {"label": "BODY_PART", "pattern": "sacrum"},
    {"label": "BODY_PART", "pattern": "heels"},
    {"label": "BODY_PART", "pattern": "palad"},
    {"label": "BODY_PART", "pattern": "talampakan"},
    {"label": "BODY_PART", "pattern": "kuko"},
    {"label": "BODY_PART", "pattern": "buto"},
    {"label": "BODY_PART", "pattern": "baga"},
    {"label": "BODY_PART", "pattern": "gallbladder"},
    {"label": "BODY_PART", "pattern": "lapay"},
    {"label": "BODY_PART", "pattern": "pancreas"},
    {"label": "BODY_PART", "pattern": "bituka"},
    {"label": "BODY_PART", "pattern": "intestines"},
    {"label": "BODY_PART", "pattern": "balat"},

    # Diseases and Conditions
    {"label": "DISEASE", "pattern": "diabetes"},
    {"label": "DISEASE", "pattern": "type 2 diabetes"},
    {"label": "DISEASE", "pattern": "diyabetis"},
    {"label": "DISEASE", "pattern": "high blood pressure"},
    {"label": "DISEASE", "pattern": "altapresyon"},
    {"label": "DISEASE", "pattern": "hypertension"},
    {"label": "DISEASE", "pattern": "hyperglycemia"},
    {"label": "DISEASE", "pattern": "dementia"},
    {"label": "DISEASE", "pattern": "Alzheimer"},
    {"label": "DISEASE", "pattern": "stroke"},
    {"label": "DISEASE", "pattern": "arthritis"},
    {"label": "DISEASE", "pattern": "depression"},
    {"label": "DISEASE", "pattern": "anxiety"},
    {"label": "DISEASE", "pattern": "pagkabalisa"},
    {"label": "DISEASE", "pattern": "kalungkutan"},
    {"label": "DISEASE", "pattern": "chronic pain"},
    {"label": "DISEASE", "pattern": "insomnia"},
    {"label": "DISEASE", "pattern": "sleep apnea"},
    {"label": "DISEASE", "pattern": "pneumonia"},
    {"label": "DISEASE", "pattern": "urinary tract infection"},
    {"label": "DISEASE", "pattern": "UTI"},
    {"label": "DISEASE", "pattern": "pressure ulcers"},
    {"label": "DISEASE", "pattern": "dehydration"},
    {"label": "DISEASE", "pattern": "malnutrition"},
    {"label": "DISEASE", "pattern": "dysphagia"},
    {"label": "DISEASE", "pattern": "cognitive decline"},
    {"label": "DISEASE", "pattern": "hearing loss"},
    {"label": "DISEASE", "pattern": "vision impairment"},
    {"label": "DISEASE", "pattern": "heart failure"},
    {"label": "DISEASE", "pattern": "COPD"},
    {"label": "DISEASE", "pattern": "osteoporosis"},
    {"label": "DISEASE", "pattern": "kidney disease"},
    {"label": "DISEASE", "pattern": "macular degeneration"},
    {"label": "DISEASE", "pattern": "Parkinson's disease"},
    {"label": "DISEASE", "pattern": "glaucoma"},
    {"label": "DISEASE", "pattern": "cataracts"},
    {"label": "DISEASE", "pattern": "asthma"},
    {"label": "DISEASE", "pattern": "hika"},
    {"label": "DISEASE", "pattern": "tuberculosis"},
    {"label": "DISEASE", "pattern": "TB"},
    {"label": "DISEASE", "pattern": "cancer"},
    {"label": "DISEASE", "pattern": "kanser"},
    {"label": "DISEASE", "pattern": "palsy"},
    {"label": "DISEASE", "pattern": "paralysis"},
    {"label": "DISEASE", "pattern": "epilepsy"},
    {"label": "DISEASE", "pattern": "seizure"},
    {"label": "DISEASE", "pattern": "convulsion"},
    {"label": "DISEASE", "pattern": "pneumonia"},
    {"label": "DISEASE", "pattern": "hepatitis"},
    {"label": "DISEASE", "pattern": "cirrhosis"},
    {"label": "DISEASE", "pattern": "gout"},
    {"label": "DISEASE", "pattern": "hyperuricemia"},
    {"label": "DISEASE", "pattern": "hypoglycemia"},
    {"label": "DISEASE", "pattern": "hyperlipidemia"},
    {"label": "DISEASE", "pattern": "dyslipidemia"},
    {"label": "DISEASE", "pattern": "COPD"},
    {"label": "DISEASE", "pattern": "chronic kidney disease"},
    {"label": "DISEASE", "pattern": "CKD"},
    {"label": "DISEASE", "pattern": "renal failure"},
    
    # Symptoms
    {"label": "SYMPTOM", "pattern": "sakit"},
    {"label": "SYMPTOM", "pattern": "kirot"},
    {"label": "SYMPTOM", "pattern": "nahihirapang huminga"},
    {"label": "SYMPTOM", "pattern": "hirap sa paghinga"},
    {"label": "SYMPTOM", "pattern": "kakapusan ng hininga"},
    {"label": "SYMPTOM", "pattern": "pagod"},
    {"label": "SYMPTOM", "pattern": "fatigue"},
    {"label": "SYMPTOM", "pattern": "pagkahilo"},
    {"label": "SYMPTOM", "pattern": "dizziness"},
    {"label": "SYMPTOM", "pattern": "pagsusuka"},
    {"label": "SYMPTOM", "pattern": "nausea"},
    {"label": "SYMPTOM", "pattern": "pananakit ng ulo"},
    {"label": "SYMPTOM", "pattern": "headache"},
    {"label": "SYMPTOM", "pattern": "pagkalito"},
    {"label": "SYMPTOM", "pattern": "confusion"},
    {"label": "SYMPTOM", "pattern": "pagkalimot"},
    {"label": "SYMPTOM", "pattern": "memory loss"},
    {"label": "SYMPTOM", "pattern": "pamamanhid"},
    {"label": "SYMPTOM", "pattern": "numbness"},
    {"label": "SYMPTOM", "pattern": "pamamaga"},
    {"label": "SYMPTOM", "pattern": "swelling"},
    {"label": "SYMPTOM", "pattern": "panananakit ng kasukasuan"},
    {"label": "SYMPTOM", "pattern": "joint pain"},
    {"label": "SYMPTOM", "pattern": "hirap sa paglalakad"},
    {"label": "SYMPTOM", "pattern": "difficulty walking"},
    {"label": "SYMPTOM", "pattern": "pagbagsak"},
    {"label": "SYMPTOM", "pattern": "falls"},
    {"label": "SYMPTOM", "pattern": "hirap sa pagtulog"},
    {"label": "SYMPTOM", "pattern": "sleep difficulty"},
    {"label": "SYMPTOM", "pattern": "walang gana sa pagkain"},
    {"label": "SYMPTOM", "pattern": "loss of appetite"},
    {"label": "SYMPTOM", "pattern": "pagbaba ng timbang"},
    {"label": "SYMPTOM", "pattern": "weight loss"},
    {"label": "SYMPTOM", "pattern": "tremors"},
    {"label": "SYMPTOM", "pattern": "panginginig"},
    {"label": "SYMPTOM", "pattern": "pagkabilaok"},
    {"label": "SYMPTOM", "pattern": "choking"},
    {"label": "SYMPTOM", "pattern": "ubo"},
    {"label": "SYMPTOM", "pattern": "coughing"},
    {"label": "SYMPTOM", "pattern": "hirap sa paglunok"},
    {"label": "SYMPTOM", "pattern": "difficulty swallowing"},
    {"label": "SYMPTOM", "pattern": "paghinga nang mabilis"},
    {"label": "SYMPTOM", "pattern": "rapid breathing"},
    {"label": "SYMPTOM", "pattern": "pagtatae"},
    {"label": "SYMPTOM", "pattern": "diarrhea"},
    {"label": "SYMPTOM", "pattern": "pagtitibi"},
    {"label": "SYMPTOM", "pattern": "constipation"},
    {"label": "SYMPTOM", "pattern": "paranoia"},
    {"label": "SYMPTOM", "pattern": "hallucinations"},
    {"label": "SYMPTOM", "pattern": "mood swings"},
    {"label": "SYMPTOM", "pattern": "agitation"},
    {"label": "SYMPTOM", "pattern": "matinding pag-aalala"},
    {"label": "SYMPTOM", "pattern": "severe worry"},
    {"label": "SYMPTOM", "pattern": "hopelessness"},
    {"label": "SYMPTOM", "pattern": "kawalan ng pag-asa"},
    {"label": "SYMPTOM", "pattern": "roller-coaster pattern"},
    {"label": "SYMPTOM", "pattern": "significant fluctuations"},
    {"label": "SYMPTOM", "pattern": "mataas na blood sugar"},
    {"label": "SYMPTOM", "pattern": "sundowning syndrome"},
    {"label": "SYMPTOM", "pattern": "pananakit"},
    {"label": "SYMPTOM", "pattern": "pamamaga"},
    {"label": "SYMPTOM", "pattern": "pamamanhid"},
    {"label": "SYMPTOM", "pattern": "pag-ubo"},
    {"label": "SYMPTOM", "pattern": "pagbahing"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng gana"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng panlasa"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng pang-amoy"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng lakas"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng malay"},
    {"label": "SYMPTOM", "pattern": "pagkawala ng balanse"},
    {"label": "SYMPTOM", "pattern": "madaling mapagod"},
    {"label": "SYMPTOM", "pattern": "madaling mahilo"},
    {"label": "SYMPTOM", "pattern": "madaling magutom"},
    {"label": "SYMPTOM", "pattern": "madaling mauhaw"},
    {"label": "SYMPTOM", "pattern": "madaling mapagod"},
    {"label": "SYMPTOM", "pattern": "madalas na pag-ihi"},
    {"label": "SYMPTOM", "pattern": "madalas na pagdumi"},
    {"label": "SYMPTOM", "pattern": "madalas na pagkahilo"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng ulo"},
    {"label": "SYMPTOM", "pattern": "madalas na pagkapagod"},
    {"label": "SYMPTOM", "pattern": "madalas na pag-ubo"},
    {"label": "SYMPTOM", "pattern": "madalas na pagbahing"},
    {"label": "SYMPTOM", "pattern": "madalas na pagduduwal"},
    {"label": "SYMPTOM", "pattern": "madalas na pagsusuka"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng tiyan"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng kasukasuan"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng likod"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng binti"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng tuhod"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng balakang"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng balikat"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng leeg"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng dibdib"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng puso"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng ulo"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng mata"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng tenga"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng bibig"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng labi"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng mukha"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng ngipin"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng batok"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng ulo"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng utak"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng leeg"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng braso"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng balikat"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng baywang"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng lungs"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng baga"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng atay"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng kidney"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng bato"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng lower back"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng joints"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng bladder"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng pantog"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng balat"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng quadriceps"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng kalamnan"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng tissue"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng arteries"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng ugat"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng spinal cord"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng gulugod"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng sacrum"},
    {"label": "SYMPTOM", "pattern": "madalas na pananakit ng heels"},

    
    # Measurements
    {"label": "MEASUREMENT", "pattern": "mg/dL"},
    {"label": "MEASUREMENT", "pattern": "blood glucose"},
    {"label": "MEASUREMENT", "pattern": "blood sugar"},
    {"label": "MEASUREMENT", "pattern": "asukal sa dugo"},
    {"label": "MEASUREMENT", "pattern": "glucose readings"},
    {"label": "MEASUREMENT", "pattern": "presyon ng dugo"},
    {"label": "MEASUREMENT", "pattern": "blood pressure"},
    {"label": "MEASUREMENT", "pattern": "200 mg/dL"},
    {"label": "MEASUREMENT", "pattern": "respiratory rate"},
    {"label": "MEASUREMENT", "pattern": "24-26 breaths per minute"},
    {"label": "MEASUREMENT", "pattern": "32-34 breaths per minute"},
    {"label": "MEASUREMENT", "pattern": "37.8°C"},
    {"label": "MEASUREMENT", "pattern": "timbang"},
    {"label": "MEASUREMENT", "pattern": "weight"},
    {"label": "MEASUREMENT", "pattern": "7 kilos"},
    {"label": "MEASUREMENT", "pattern": "5 kilograms"},
    {"label": "MEASUREMENT", "pattern": "6.2 kilograms"},
    {"label": "MEASUREMENT", "pattern": "13.6 pounds"},
    {"label": "MEASUREMENT", "pattern": "850-950 calories"},
    {"label": "MEASUREMENT", "pattern": "1,500 calories"},
    {"label": "MEASUREMENT", "pattern": "25-30 grams"},
    {"label": "MEASUREMENT", "pattern": "60 grams"},
    {"label": "MEASUREMENT", "pattern": "oxygen saturation"},
    {"label": "MEASUREMENT", "pattern": "mmHg"},
    {"label": "MEASUREMENT", "pattern": "bpm"},
    {"label": "MEASUREMENT", "pattern": "beats per minute"},
    {"label": "MEASUREMENT", "pattern": "pulse rate"},
    {"label": "MEASUREMENT", "pattern": "temperature"},
    {"label": "MEASUREMENT", "pattern": "body temperature"},
    {"label": "MEASUREMENT", "pattern": "°C"},
    {"label": "MEASUREMENT", "pattern": "°F"},
    {"label": "MEASUREMENT", "pattern": "oxygen level"},
    {"label": "MEASUREMENT", "pattern": "systolic"},
    {"label": "MEASUREMENT", "pattern": "diastolic"},
    
    # Foods and Diet
    {"label": "FOOD", "pattern": "kanin"},
    {"label": "FOOD", "pattern": "white bread"},
    {"label": "FOOD", "pattern": "brown rice"},
    {"label": "FOOD", "pattern": "kakanin"},
    {"label": "FOOD", "pattern": "Filipino dishes"},
    {"label": "FOOD", "pattern": "carbohydrate-rich"},
    {"label": "FOOD", "pattern": "lugaw"},
    {"label": "FOOD", "pattern": "sopas"},
    {"label": "FOOD", "pattern": "gulay"},
    {"label": "FOOD", "pattern": "vegetables"},
    {"label": "FOOD", "pattern": "prutas"},
    {"label": "FOOD", "pattern": "fruits"},
    {"label": "FOOD", "pattern": "karne"},
    {"label": "FOOD", "pattern": "meat"},
    {"label": "FOOD", "pattern": "isda"},
    {"label": "FOOD", "pattern": "fish"},
    {"label": "FOOD", "pattern": "tinapay"},
    {"label": "FOOD", "pattern": "bread"},
    {"label": "FOOD", "pattern": "sawsawan"},
    {"label": "FOOD", "pattern": "ulam"},
    {"label": "FOOD", "pattern": "fried dishes"},
    {"label": "FOOD", "pattern": "instant noodles"},
    {"label": "FOOD", "pattern": "canned goods"},
    {"label": "FOOD", "pattern": "cookies"},
    {"label": "FOOD", "pattern": "protein"},
    {"label": "FOOD", "pattern": "lean proteins"},
    {"label": "FOOD", "pattern": "adobo"},
    {"label": "FOOD", "pattern": "sinangag"},
    {"label": "FOOD", "pattern": "tinola"},
    {"label": "FOOD", "pattern": "sinigang"},
    {"label": "FOOD", "pattern": "nilaga"},
    {"label": "FOOD", "pattern": "sardinas"},
    {"label": "FOOD", "pattern": "tuyo"},
    {"label": "FOOD", "pattern": "longganisa"},
    {"label": "FOOD", "pattern": "tocino"},
    {"label": "FOOD", "pattern": "hotdog"},
    {"label": "FOOD", "pattern": "itlog"},
    {"label": "FOOD", "pattern": "egg"},
    {"label": "FOOD", "pattern": "gatas"},
    {"label": "FOOD", "pattern": "milk"},
    {"label": "FOOD", "pattern": "kape"},
    {"label": "FOOD", "pattern": "coffee"},
    {"label": "FOOD", "pattern": "saging"},
    {"label": "FOOD", "pattern": "banana"},
    {"label": "FOOD", "pattern": "mangga"},
    {"label": "FOOD", "pattern": "mango"},
    {"label": "FOOD", "pattern": "pakwan"},
    {"label": "FOOD", "pattern": "watermelon"},
    {"label": "FOOD", "pattern": "kamote"},
    {"label": "FOOD", "pattern": "sweet potato"},
    {"label": "FOOD", "pattern": "mais"},
    {"label": "FOOD", "pattern": "corn"},
    {"label": "FOOD", "pattern": "pandesal"},
    {"label": "FOOD", "pattern": "champorado"},
    {"label": "FOOD", "pattern": "ginataan"},
    {"label": "FOOD", "pattern": "biko"},
    {"label": "FOOD", "pattern": "puto"},
    {"label": "FOOD", "pattern": "kutsinta"},
    {"label": "FOOD", "pattern": "lechon"},
    {"label": "FOOD", "pattern": "chicken"},
    {"label": "FOOD", "pattern": "manok"},
    {"label": "FOOD", "pattern": "baboy"},
    {"label": "FOOD", "pattern": "pork"},
    {"label": "FOOD", "pattern": "beef"},
    {"label": "FOOD", "pattern": "baka"},
    {"label": "FOOD", "pattern": "tinapa"},
    {"label": "FOOD", "pattern": "dried fish"},
    {"label": "FOOD", "pattern": "ampalaya"},
    {"label": "FOOD", "pattern": "bitter gourd"},
    {"label": "FOOD", "pattern": "malunggay"},
    {"label": "FOOD", "pattern": "moringa"},
    {"label": "FOOD", "pattern": "kalabasa"},
    {"label": "FOOD", "pattern": "squash"},
    {"label": "FOOD", "pattern": "sitaw"},
    {"label": "FOOD", "pattern": "string beans"},
    {"label": "FOOD", "pattern": "patola"},
    {"label": "FOOD", "pattern": "sponge gourd"},
    {"label": "FOOD", "pattern": "labanos"},
    {"label": "FOOD", "pattern": "radish"},
    {"label": "FOOD", "pattern": "pechay"},
    {"label": "FOOD", "pattern": "bok choy"},
    {"label": "FOOD", "pattern": "carrots"},
    {"label": "FOOD", "pattern": "carrot"},
    {"label": "FOOD", "pattern": "patatas"},
    {"label": "FOOD", "pattern": "potato"},
    {"label": "FOOD", "pattern": "okra"},
    {"label": "FOOD", "pattern": "eggplant"},
    {"label": "FOOD", "pattern": "talong"},
    {"label": "FOOD", "pattern": "tomato"},
    {"label": "FOOD", "pattern": "kamatis"},
    {"label": "FOOD", "pattern": "onion"},
    {"label": "FOOD", "pattern": "sibuyas"},
    {"label": "FOOD", "pattern": "garlic"},
    {"label": "FOOD", "pattern": "bawang"},
    {"label": "FOOD", "pattern": "salt"},
    {"label": "FOOD", "pattern": "asin"},
    {"label": "FOOD", "pattern": "sugar"},
    {"label": "FOOD", "pattern": "asukal"},
    {"label": "FOOD", "pattern": "oil"},
    {"label": "FOOD", "pattern": "mantika"},
    {"label": "FOOD", "pattern": "vinegar"},
    {"label": "FOOD", "pattern": "suka"},
    {"label": "FOOD", "pattern": "soy sauce"},
    {"label": "FOOD", "pattern": "toyo"},
    {"label": "FOOD", "pattern": "fish sauce"},
    {"label": "FOOD", "pattern": "patis"},
    {"label": "FOOD", "pattern": "spaghetti"},
    {"label": "FOOD", "pattern": "pasta"},
    {"label": "FOOD", "pattern": "macaroni"},
    {"label": "FOOD", "pattern": "cheese"},
    {"label": "FOOD", "pattern": "gatas ng kalabaw"},
    {"label": "FOOD", "pattern": "carabao milk"},
    {"label": "FOOD", "pattern": "taho"},
    {"label": "FOOD", "pattern": "sago"},
    {"label": "FOOD", "pattern": "gulaman"},
    {"label": "FOOD", "pattern": "halo-halo"},
    {"label": "FOOD", "pattern": "ice cream"},
    {"label": "FOOD", "pattern": "sabaw"},
    {"label": "FOOD", "pattern": "broth"},
    {"label": "FOOD", "pattern": "soup"},
    {"label": "FOOD", "pattern": "sinigang na baboy"},
    {"label": "FOOD", "pattern": "sinigang na isda"},
    {"label": "FOOD", "pattern": "sinigang na hipon"},
    {"label": "FOOD", "pattern": "fried rice"},
    {"label": "FOOD", "pattern": "fried fish"},
    {"label": "FOOD", "pattern": "fried chicken"},
    {"label": "FOOD", "pattern": "fried egg"},
    {"label": "FOOD", "pattern": "boiled egg"},
    {"label": "FOOD", "pattern": "hard boiled egg"},
    {"label": "FOOD", "pattern": "soft boiled egg"},
    {"label": "FOOD", "pattern": "scrambled egg"},
    {"label": "FOOD", "pattern": "omelette"},
    {"label": "FOOD", "pattern": "lugaw na may itlog"},
    {"label": "FOOD", "pattern": "goto"},
    {"label": "FOOD", "pattern": "arroz caldo"},
    {"label": "FOOD", "pattern": "champorado"},
    {"label": "FOOD", "pattern": "turon"},
    {"label": "FOOD", "pattern": "banana cue"},
    {"label": "FOOD", "pattern": "camote cue"},
    {"label": "FOOD", "pattern": "pancit"},
    {"label": "FOOD", "pattern": "pancit canton"},
    {"label": "FOOD", "pattern": "pancit bihon"},
    {"label": "FOOD", "pattern": "pancit palabok"},
    {"label": "FOOD", "pattern": "pancit luglug"},
    {"label": "FOOD", "pattern": "pancit malabon"},
    {"label": "FOOD", "pattern": "pancit habhab"},
    {"label": "FOOD", "pattern": "pancit miki"},
    {"label": "FOOD", "pattern": "pancit lomi"},
    {"label": "FOOD", "pattern": "pancit sotanghon"},
    {"label": "FOOD", "pattern": "pancit canton"},
    {"label": "FOOD", "pattern": "pancit guisado"},
    {"label": "FOOD", "pattern": "pancit bato"},
    {"label": "FOOD", "pattern": "pancit cabagan"},
    {"label": "FOOD", "pattern": "pancit batil patong"},
    
    # Medical equipment and aids
    {"label": "MEDICAL", "pattern": "wheelchair"},
    {"label": "MEDICAL", "pattern": "walker"},
    {"label": "MEDICAL", "pattern": "cane"},
    {"label": "MEDICAL", "pattern": "tungkod"},
    {"label": "MEDICAL", "pattern": "grab bars"},
    {"label": "MEDICAL", "pattern": "hearing aid"},
    {"label": "MEDICAL", "pattern": "eyeglasses"},
    {"label": "MEDICAL", "pattern": "salamin"},
    {"label": "MEDICAL", "pattern": "dentures"},
    {"label": "MEDICAL", "pattern": "pustiso"},
    {"label": "MEDICAL", "pattern": "walkers"},
    {"label": "MEDICAL", "pattern": "quad cane"},
    {"label": "MEDICAL", "pattern": "hospital bed"},
    {"label": "MEDICAL", "pattern": "commode"},
    {"label": "MEDICAL", "pattern": "raised toilet seat"},
    {"label": "MEDICAL", "pattern": "shower chair"},
    {"label": "MEDICAL", "pattern": "blood glucose monitor"},
    {"label": "MEDICAL", "pattern": "insulin pen"},
    {"label": "MEDICAL", "pattern": "syringe"},
    {"label": "MEDICAL", "pattern": "pill organizer"},
    {"label": "MEDICAL", "pattern": "compression stockings"},
    {"label": "MEDICAL", "pattern": "hoyer lift"},
    {"label": "MEDICAL", "pattern": "nebulizer"},
    {"label": "MEDICAL", "pattern": "oxygen tank"},
    {"label": "MEDICAL", "pattern": "pulse oximeter"},
    {"label": "MEDICAL", "pattern": "blood pressure monitor"},
    {"label": "MEDICAL", "pattern": "BP monitor"},
    {"label": "MEDICAL", "pattern": "thermometer"},
    {"label": "MEDICAL", "pattern": "digital thermometer"},
    {"label": "MEDICAL", "pattern": "stethoscope"},
    {"label": "MEDICAL", "pattern": "suction machine"},
    {"label": "MEDICAL", "pattern": "feeding tube"},
    {"label": "MEDICAL", "pattern": "nasogastric tube"},
    {"label": "MEDICAL", "pattern": "catheter"},
    {"label": "MEDICAL", "pattern": "urinal"},
    {"label": "MEDICAL", "pattern": "bedpan"},
    {"label": "MEDICAL", "pattern": "IV stand"},
    {"label": "MEDICAL", "pattern": "infusion pump"},
    {"label": "MEDICAL", "pattern": "air mattress"},
    {"label": "MEDICAL", "pattern": "anti-decubitus mattress"},
    {"label": "MEDICAL", "pattern": "transfer board"},
    {"label": "MEDICAL", "pattern": "transfer belt"},
    {"label": "MEDICAL", "pattern": "mobility scooter"},
    {"label": "MEDICAL", "pattern": "prosthesis"},
    {"label": "MEDICAL", "pattern": "orthopedic shoes"},
    {"label": "MEDICAL", "pattern": "support brace"},
    {"label": "MEDICAL", "pattern": "neck brace"},
    {"label": "MEDICAL", "pattern": "back brace"},
    {"label": "MEDICAL", "pattern": "splint"},
    {"label": "MEDICAL", "pattern": "cast"},
    {"label": "MEDICAL", "pattern": "medical gloves"},
    {"label": "MEDICAL", "pattern": "face mask"},
    {"label": "MEDICAL", "pattern": "surgical mask"},
    {"label": "MEDICAL", "pattern": "disposable gown"},
    {"label": "MEDICAL", "pattern": "alcohol swab"},
    {"label": "MEDICAL", "pattern": "sterile gauze"},
    {"label": "MEDICAL", "pattern": "bandage"},
    {"label": "MEDICAL", "pattern": "elastic bandage"},
    {"label": "MEDICAL", "pattern": "medical tape"},
    {"label": "MEDICAL", "pattern": "pill cutter"},
    {"label": "MEDICAL", "pattern": "medicine cup"},
    {"label": "MEDICAL", "pattern": "medicine spoon"},
    {"label": "MEDICAL", "pattern": "inhaler"},
    {"label": "MEDICAL", "pattern": "walker with wheels"},
    {"label": "MEDICAL", "pattern": "crutches"},
    {"label": "MEDICAL", "pattern": "bed rail"},
    {"label": "MEDICAL", "pattern": "emergency call button"},
    {"label": "MEDICAL", "pattern": "medical alert bracelet"},
    {"label": "MEDICAL", "pattern": "hearing amplifier"},
    {"label": "MEDICAL", "pattern": "magnifying glass"},
    {"label": "MEDICAL", "pattern": "adaptive utensils"},
    {"label": "MEDICAL", "pattern": "reacher"},
    {"label": "MEDICAL", "pattern": "grabber tool"},
    {"label": "MEDICAL", "pattern": "shower bench"},
    {"label": "MEDICAL", "pattern": "toilet safety frame"},
    {"label": "MEDICAL", "pattern": "bedside table"},
    {"label": "MEDICAL", "pattern": "overbed table"},
    {"label": "MEDICAL", "pattern": "compression pump"},
    {"label": "MEDICAL", "pattern": "medical ice pack"},
    {"label": "MEDICAL", "pattern": "hot water bag"},
    {"label": "MEDICAL", "pattern": "cooling pad"},
    
    # Treatments and interventions
    {"label": "TREATMENT", "pattern": "medication"},
    {"label": "TREATMENT", "pattern": "gamot"},
    {"label": "TREATMENT", "pattern": "physical therapy"},
    {"label": "TREATMENT", "pattern": "exercise"},
    {"label": "TREATMENT", "pattern": "ehersisyo"},
    {"label": "TREATMENT", "pattern": "therapy"},
    {"label": "TREATMENT", "pattern": "paggamot"},
    {"label": "TREATMENT", "pattern": "maintenance"},
    {"label": "TREATMENT", "pattern": "antibiotics"},
    {"label": "TREATMENT", "pattern": "insulin"},
    {"label": "TREATMENT", "pattern": "pain management"},
    {"label": "TREATMENT", "pattern": "wound care"},
    {"label": "TREATMENT", "pattern": "dialysis"},
    {"label": "TREATMENT", "pattern": "oxygen therapy"},
    {"label": "TREATMENT", "pattern": "rehabilitation"},
    {"label": "TREATMENT", "pattern": "occupational therapy"},
    {"label": "TREATMENT", "pattern": "speech therapy"},
    {"label": "TREATMENT", "pattern": "counseling"},
    {"label": "TREATMENT", "pattern": "diet modification"},
    {"label": "TREATMENT", "pattern": "fluid restriction"},
    {"label": "TREATMENT", "pattern": "bed rest"},
    {"label": "TREATMENT", "pattern": "palliative care"},
    {"label": "TREATMENT", "pattern": "hospice care"},
    {"label": "TREATMENT", "pattern": "swallowing exercises"},
    {"label": "TREATMENT", "pattern": "cognitive stimulation"},
    {"label": "TREATMENT", "pattern": "balance training"},
    {"label": "TREATMENT", "pattern": "chemotherapy"},
    {"label": "TREATMENT", "pattern": "radiation therapy"},
    {"label": "TREATMENT", "pattern": "immunotherapy"},
    {"label": "TREATMENT", "pattern": "occupational rehabilitation"},
    {"label": "TREATMENT", "pattern": "speech-language therapy"},
    {"label": "TREATMENT", "pattern": "nutritional counseling"},
    {"label": "TREATMENT", "pattern": "psychotherapy"},
    {"label": "TREATMENT", "pattern": "group therapy"},
    {"label": "TREATMENT", "pattern": "cognitive behavioral therapy"},
    {"label": "TREATMENT", "pattern": "CBT"},
    {"label": "TREATMENT", "pattern": "pain relief"},
    {"label": "TREATMENT", "pattern": "pain control"},
    {"label": "TREATMENT", "pattern": "hydration therapy"},
    {"label": "TREATMENT", "pattern": "IV fluids"},
    {"label": "TREATMENT", "pattern": "oral rehydration"},
    {"label": "TREATMENT", "pattern": "blood transfusion"},
    {"label": "TREATMENT", "pattern": "surgery"},
    {"label": "TREATMENT", "pattern": "minor surgery"},
    {"label": "TREATMENT", "pattern": "major surgery"},
    {"label": "TREATMENT", "pattern": "wound dressing"},
    {"label": "TREATMENT", "pattern": "debridement"},
    {"label": "TREATMENT", "pattern": "cast immobilization"},
    {"label": "TREATMENT", "pattern": "splinting"},
    {"label": "TREATMENT", "pattern": "antiviral therapy"},
    {"label": "TREATMENT", "pattern": "antifungal therapy"},
    {"label": "TREATMENT", "pattern": "antiparasitic therapy"},
    {"label": "TREATMENT", "pattern": "bronchodilator therapy"},
    {"label": "TREATMENT", "pattern": "inhalation therapy"},
    {"label": "TREATMENT", "pattern": "nebulization"},
    {"label": "TREATMENT", "pattern": "vaccination"},
    {"label": "TREATMENT", "pattern": "immunization"},
    {"label": "TREATMENT", "pattern": "oral medication"},
    {"label": "TREATMENT", "pattern": "topical medication"},
    {"label": "TREATMENT", "pattern": "injection"},
    {"label": "TREATMENT", "pattern": "subcutaneous injection"},
    {"label": "TREATMENT", "pattern": "intravenous injection"},
    {"label": "TREATMENT", "pattern": "intramuscular injection"},
    {"label": "TREATMENT", "pattern": "nasal spray"},
    {"label": "TREATMENT", "pattern": "eye drops"},
    {"label": "TREATMENT", "pattern": "ear drops"},
    {"label": "TREATMENT", "pattern": "oral care"},
    {"label": "TREATMENT", "pattern": "mouth care"},
    {"label": "TREATMENT", "pattern": "mobility training"},
    {"label": "TREATMENT", "pattern": "gait training"},
    {"label": "TREATMENT", "pattern": "range of motion exercises"},
    {"label": "TREATMENT", "pattern": "stretching exercises"},
    {"label": "TREATMENT", "pattern": "strengthening exercises"},
    {"label": "TREATMENT", "pattern": "fall prevention program"},
    {"label": "TREATMENT", "pattern": "smoking cessation"},
    {"label": "TREATMENT", "pattern": "alcohol cessation"},
    {"label": "TREATMENT", "pattern": "stress management"},
    {"label": "TREATMENT", "pattern": "relaxation techniques"},
    {"label": "TREATMENT", "pattern": "mindfulness"},
    {"label": "TREATMENT", "pattern": "music therapy"},
    {"label": "TREATMENT", "pattern": "art therapy"},
    {"label": "TREATMENT", "pattern": "pet therapy"},
    {"label": "TREATMENT", "pattern": "occupational adaptation"},
    {"label": "TREATMENT", "pattern": "environmental modification"},
    {"label": "TREATMENT", "pattern": "assistive technology"},
    {"label": "TREATMENT", "pattern": "telemedicine"},
    {"label": "TREATMENT", "pattern": "telehealth"},
    {"label": "TREATMENT", "pattern": "home care"},
    {"label": "TREATMENT", "pattern": "respite care"},
    {"label": "TREATMENT", "pattern": "case management"},
    {"label": "TREATMENT", "pattern": "care coordination"},
    {"label": "TREATMENT", "pattern": "patient education"},
    {"label": "TREATMENT", "pattern": "family education"},
    {"label": "TREATMENT", "pattern": "health coaching"},
    {"label": "TREATMENT", "pattern": "nutritional support"},
    {"label": "TREATMENT", "pattern": "tube feeding"},
    {"label": "TREATMENT", "pattern": "parenteral nutrition"},
    {"label": "TREATMENT", "pattern": "oral supplements"},
    {"label": "TREATMENT", "pattern": "fluid therapy"},
    {"label": "TREATMENT", "pattern": "antipyretic therapy"},
    {"label": "TREATMENT", "pattern": "antihypertensive therapy"},
    {"label": "TREATMENT", "pattern": "antidiabetic therapy"},
    {"label": "TREATMENT", "pattern": "antidepressant therapy"},
    {"label": "TREATMENT", "pattern": "antipsychotic therapy"},
    {"label": "TREATMENT", "pattern": "anticoagulant therapy"},
    {"label": "TREATMENT", "pattern": "antiplatelet therapy"},
    {"label": "TREATMENT", "pattern": "anticholinergic therapy"},
    {"label": "TREATMENT", "pattern": "anticonvulsant therapy"},
    {"label": "TREATMENT", "pattern": "antihistamine therapy"},
    {"label": "TREATMENT", "pattern": "antirheumatic therapy"},
    {"label": "TREATMENT", "pattern": "antigout therapy"},
    {"label": "TREATMENT", "pattern": "antiviral prophylaxis"},
    {"label": "TREATMENT", "pattern": "antibiotic prophylaxis"},
    {"label": "TREATMENT", "pattern": "rehydration"},
    {"label": "TREATMENT", "pattern": "fluid replacement"},
    {"label": "TREATMENT", "pattern": "nutritional rehabilitation"},
    {"label": "TREATMENT", "pattern": "psychosocial support"},
    {"label": "TREATMENT", "pattern": "counseling support"},
    {"label": "TREATMENT", "pattern": "peer support"},
    {"label": "TREATMENT", "pattern": "support group"},
    {"label": "TREATMENT", "pattern": "spiritual care"},
    {"label": "TREATMENT", "pattern": "pastoral care"},
    {"label": "TREATMENT", "pattern": "bereavement support"},
    {"label": "TREATMENT", "pattern": "grief support"},
    {"label": "TREATMENT", "pattern": "end-of-life care"},
    {"label": "TREATMENT", "pattern": "comfort care"},
    {"label": "TREATMENT", "pattern": "symptom management"},
    {"label": "TREATMENT", "pattern": "advance care planning"},
    {"label": "TREATMENT", "pattern": "goals of care discussion"},
    
    # Medications
    {"label": "MEDICATION", "pattern": "diuretic"},
    {"label": "MEDICATION", "pattern": "blood thinner"},
    {"label": "MEDICATION", "pattern": "cholesterol medication"},
    {"label": "MEDICATION", "pattern": "anti-inflammatory"},
    {"label": "MEDICATION", "pattern": "pain reliever"},
    {"label": "MEDICATION", "pattern": "antihypertensive"},
    {"label": "MEDICATION", "pattern": "antidepressant"},
    {"label": "MEDICATION", "pattern": "anti-anxiety"},
    {"label": "MEDICATION", "pattern": "sleeping pill"},
    {"label": "MEDICATION", "pattern": "statin"},
    {"label": "MEDICATION", "pattern": "beta blocker"},
    {"label": "MEDICATION", "pattern": "ACE inhibitor"},
    {"label": "MEDICATION", "pattern": "ARB"},
    {"label": "MEDICATION", "pattern": "calcium channel blocker"},
    {"label": "MEDICATION", "pattern": "metformin"},
    {"label": "MEDICATION", "pattern": "sulfonylurea"},
    {"label": "MEDICATION", "pattern": "GLP-1 agonist"},
    {"label": "MEDICATION", "pattern": "insulin"},
    {"label": "MEDICATION", "pattern": "aspirin"},
    {"label": "MEDICATION", "pattern": "paracetamol"},
    {"label": "MEDICATION", "pattern": "antibiotic"},
    {"label": "MEDICATION", "pattern": "antipyretic"},
    {"label": "MEDICATION", "pattern": "antihistamine"},
    {"label": "MEDICATION", "pattern": "antipsychotic"},
    {"label": "MEDICATION", "pattern": "anticonvulsant"},
    {"label": "MEDICATION", "pattern": "antiplatelet"},
    {"label": "MEDICATION", "pattern": "anticoagulant"},
    {"label": "MEDICATION", "pattern": "antifungal"},
    {"label": "MEDICATION", "pattern": "antiviral"},
    {"label": "MEDICATION", "pattern": "bronchodilator"},
    {"label": "MEDICATION", "pattern": "corticosteroid"},
    {"label": "MEDICATION", "pattern": "steroid"},
    {"label": "MEDICATION", "pattern": "antacid"},
    {"label": "MEDICATION", "pattern": "proton pump inhibitor"},
    {"label": "MEDICATION", "pattern": "PPI"},
    {"label": "MEDICATION", "pattern": "laxative"},
    {"label": "MEDICATION", "pattern": "antidiarrheal"},
    {"label": "MEDICATION", "pattern": "antispasmodic"},
    {"label": "MEDICATION", "pattern": "anticholinergic"},
    {"label": "MEDICATION", "pattern": "NSAID"},
    {"label": "MEDICATION", "pattern": "opioid"},
    {"label": "MEDICATION", "pattern": "morphine"},
    {"label": "MEDICATION", "pattern": "tramadol"},
    {"label": "MEDICATION", "pattern": "gabapentin"},
    {"label": "MEDICATION", "pattern": "omeprazole"},
    {"label": "MEDICATION", "pattern": "amoxicillin"},
    {"label": "MEDICATION", "pattern": "clopidogrel"},
    {"label": "MEDICATION", "pattern": "atorvastatin"},
    {"label": "MEDICATION", "pattern": "simvastatin"},
    {"label": "MEDICATION", "pattern": "amlodipine"},
    {"label": "MEDICATION", "pattern": "losartan"},
    {"label": "MEDICATION", "pattern": "gabapentin"},
    {"label": "MEDICATION", "pattern": "furosemide"},
    {"label": "MEDICATION", "pattern": "salbutamol"},
    {"label": "MEDICATION", "pattern": "albuterol"},
    {"label": "MEDICATION", "pattern": "glibenclamide"},
    {"label": "MEDICATION", "pattern": "glimepiride"},
    {"label": "MEDICATION", "pattern": "hydrochlorothiazide"},
    {"label": "MEDICATION", "pattern": "metoprolol"},
    {"label": "MEDICATION", "pattern": "bisoprolol"},
    {"label": "MEDICATION", "pattern": "carvedilol"},
    {"label": "MEDICATION", "pattern": "levothyroxine"},
    {"label": "MEDICATION", "pattern": "omeprazole"},
    {"label": "MEDICATION", "pattern": "pantoprazole"},
    {"label": "MEDICATION", "pattern": "azithromycin"},
    {"label": "MEDICATION", "pattern": "cefuroxime"},
    {"label": "MEDICATION", "pattern": "cephalexin"},
    {"label": "MEDICATION", "pattern": "co-amoxiclav"},
    {"label": "MEDICATION", "pattern": "erythromycin"},
    {"label": "MEDICATION", "pattern": "lincomycin"},
    {"label": "MEDICATION", "pattern": "salinex"},
    {"label": "MEDICATION", "pattern": "multivitamins"},
    {"label": "MEDICATION", "pattern": "vitamin B complex"},
    {"label": "MEDICATION", "pattern": "vitamin C"},
    {"label": "MEDICATION", "pattern": "iron supplement"},
    {"label": "MEDICATION", "pattern": "folic acid"},
    {"label": "MEDICATION", "pattern": "gamot"},
    {"label": "MEDICATION", "pattern": "tableta"},
    {"label": "MEDICATION", "pattern": "kapsula"},
    {"label": "MEDICATION", "pattern": "syrup"},
    {"label": "MEDICATION", "pattern": "gamot sa hika"},
    {"label": "MEDICATION", "pattern": "gamot sa diabetes"},
    {"label": "MEDICATION", "pattern": "gamot sa altapresyon"},
    {"label": "MEDICATION", "pattern": "gamot sa sakit ng ulo"},
    {"label": "MEDICATION", "pattern": "gamot sa lagnat"},
    {"label": "MEDICATION", "pattern": "gamot sa ubo"},
    {"label": "MEDICATION", "pattern": "gamot sa sipon"},
    {"label": "MEDICATION", "pattern": "gamot sa allergy"},
    {"label": "MEDICATION", "pattern": "gamot sa sakit ng tiyan"},
    
    # Healthcare professionals
    {"label": "HEALTHCARE_PROF", "pattern": "doktor"},
    {"label": "HEALTHCARE_PROF", "pattern": "doctor"},
    {"label": "HEALTHCARE_PROF", "pattern": "nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "nars"},
    {"label": "HEALTHCARE_PROF", "pattern": "physical therapist"},
    {"label": "HEALTHCARE_PROF", "pattern": "occupational therapist"},
    {"label": "HEALTHCARE_PROF", "pattern": "speech therapist"},
    {"label": "HEALTHCARE_PROF", "pattern": "dietitian"},
    {"label": "HEALTHCARE_PROF", "pattern": "nutritionist"},
    {"label": "HEALTHCARE_PROF", "pattern": "audiologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "optometrist"},
    {"label": "HEALTHCARE_PROF", "pattern": "psychologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "psychiatrist"},
    {"label": "HEALTHCARE_PROF", "pattern": "neurologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "cardiologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "endocrinologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "geriatrician"},
    {"label": "HEALTHCARE_PROF", "pattern": "pharmacist"},
    {"label": "HEALTHCARE_PROF", "pattern": "dentist"},
    {"label": "HEALTHCARE_PROF", "pattern": "podiatrist"},
    {"label": "HEALTHCARE_PROF", "pattern": "caregiver"},
    {"label": "HEALTHCARE_PROF", "pattern": "tagapag-alaga"},
    {"label": "HEALTHCARE_PROF", "pattern": "midwife"},
    {"label": "HEALTHCARE_PROF", "pattern": "comadrona"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical technologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "medtech"},
    {"label": "HEALTHCARE_PROF", "pattern": "phlebotomist"},
    {"label": "HEALTHCARE_PROF", "pattern": "radiologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "x-ray technician"},
    {"label": "HEALTHCARE_PROF", "pattern": "ultrasound technician"},
    {"label": "HEALTHCARE_PROF", "pattern": "respiratory therapist"},
    {"label": "HEALTHCARE_PROF", "pattern": "speech pathologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "social worker"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical social worker"},
    {"label": "HEALTHCARE_PROF", "pattern": "psychotherapist"},
    {"label": "HEALTHCARE_PROF", "pattern": "oncologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "pulmonologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "nephrologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "gastroenterologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "surgeon"},
    {"label": "HEALTHCARE_PROF", "pattern": "general practitioner"},
    {"label": "HEALTHCARE_PROF", "pattern": "family doctor"},
    {"label": "HEALTHCARE_PROF", "pattern": "family physician"},
    {"label": "HEALTHCARE_PROF", "pattern": "pediatrician"},
    {"label": "HEALTHCARE_PROF", "pattern": "obstetrician"},
    {"label": "HEALTHCARE_PROF", "pattern": "gynecologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "OB-GYN"},
    {"label": "HEALTHCARE_PROF", "pattern": "dermatologist"},
    {"label": "HEALTHCARE_PROF", "pattern": "orthopedic surgeon"},
    {"label": "HEALTHCARE_PROF", "pattern": "rehab doctor"},
    {"label": "HEALTHCARE_PROF", "pattern": "rehabilitation physician"},
    {"label": "HEALTHCARE_PROF", "pattern": "physiatrist"},
    {"label": "HEALTHCARE_PROF", "pattern": "emergency physician"},
    {"label": "HEALTHCARE_PROF", "pattern": "paramedic"},
    {"label": "HEALTHCARE_PROF", "pattern": "EMT"},
    {"label": "HEALTHCARE_PROF", "pattern": "barangay health worker"},
    {"label": "HEALTHCARE_PROF", "pattern": "BHW"},
    {"label": "HEALTHCARE_PROF", "pattern": "health aide"},
    {"label": "HEALTHCARE_PROF", "pattern": "nursing aide"},
    {"label": "HEALTHCARE_PROF", "pattern": "nursing assistant"},
    {"label": "HEALTHCARE_PROF", "pattern": "care aide"},
    {"label": "HEALTHCARE_PROF", "pattern": "rehab aide"},
    {"label": "HEALTHCARE_PROF", "pattern": "dietary aide"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical assistant"},
    {"label": "HEALTHCARE_PROF", "pattern": "attending physician"},
    {"label": "HEALTHCARE_PROF", "pattern": "consultant"},
    {"label": "HEALTHCARE_PROF", "pattern": "resident doctor"},
    {"label": "HEALTHCARE_PROF", "pattern": "intern"},
    {"label": "HEALTHCARE_PROF", "pattern": "fellow"},
    {"label": "HEALTHCARE_PROF", "pattern": "clinic staff"},
    {"label": "HEALTHCARE_PROF", "pattern": "hospital staff"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical director"},
    {"label": "HEALTHCARE_PROF", "pattern": "chief nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "head nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "nurse supervisor"},
    {"label": "HEALTHCARE_PROF", "pattern": "nurse manager"},
    {"label": "HEALTHCARE_PROF", "pattern": "nurse practitioner"},
    {"label": "HEALTHCARE_PROF", "pattern": "registered nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "RN"},
    {"label": "HEALTHCARE_PROF", "pattern": "licensed practical nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "LPN"},
    {"label": "HEALTHCARE_PROF", "pattern": "licensed vocational nurse"},
    {"label": "HEALTHCARE_PROF", "pattern": "LVN"},
    {"label": "HEALTHCARE_PROF", "pattern": "clinical instructor"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical intern"},
    {"label": "HEALTHCARE_PROF", "pattern": "medical fellow"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng puso"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng mata"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng buto"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng bata"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng babae"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng balat"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng baga"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng bato"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng tiyan"},
    {"label": "HEALTHCARE_PROF", "pattern": "doktor ng utak"},
]
additional_patterns = [
    # Social Relationships
    {"label": "SOCIAL_REL", "pattern": "asawa"},
    {"label": "SOCIAL_REL", "pattern": "spouse"},
    {"label": "SOCIAL_REL", "pattern": "anak"},
    {"label": "SOCIAL_REL", "pattern": "children"},
    {"label": "SOCIAL_REL", "pattern": "apo"},
    {"label": "SOCIAL_REL", "pattern": "grandchildren"},
    {"label": "SOCIAL_REL", "pattern": "pamangkin"},
    {"label": "SOCIAL_REL", "pattern": "nephew"},
    {"label": "SOCIAL_REL", "pattern": "niece"},
    {"label": "SOCIAL_REL", "pattern": "magulang"},
    {"label": "SOCIAL_REL", "pattern": "parent"},
    {"label": "SOCIAL_REL", "pattern": "kapitbahay"},
    {"label": "SOCIAL_REL", "pattern": "neighbor"},
    {"label": "SOCIAL_REL", "pattern": "kaibigan"},
    {"label": "SOCIAL_REL", "pattern": "friend"},
    {"label": "SOCIAL_REL", "pattern": "pamilya"},
    {"label": "SOCIAL_REL", "pattern": "family"},
    {"label": "SOCIAL_REL", "pattern": "kamag-anak"},
    {"label": "SOCIAL_REL", "pattern": "relative"},
        {"label": "SOCIAL_REL", "pattern": "kapatid"},           # sibling
    {"label": "SOCIAL_REL", "pattern": "kuya"},              # older brother
    {"label": "SOCIAL_REL", "pattern": "ate"},               # older sister
    {"label": "SOCIAL_REL", "pattern": "bunso"},             # youngest child
    {"label": "SOCIAL_REL", "pattern": "pinsan"},            # cousin
    {"label": "SOCIAL_REL", "pattern": "cousin"},
    {"label": "SOCIAL_REL", "pattern": "biyenan"},           # parent-in-law
    {"label": "SOCIAL_REL", "pattern": "mother-in-law"},
    {"label": "SOCIAL_REL", "pattern": "father-in-law"},
    {"label": "SOCIAL_REL", "pattern": "manugang"},          # son/daughter-in-law
    {"label": "SOCIAL_REL", "pattern": "son-in-law"},
    {"label": "SOCIAL_REL", "pattern": "daughter-in-law"},
    {"label": "SOCIAL_REL", "pattern": "bayaw"},             # brother-in-law
    {"label": "SOCIAL_REL", "pattern": "brother-in-law"},
    {"label": "SOCIAL_REL", "pattern": "hipag"},             # sister-in-law
    {"label": "SOCIAL_REL", "pattern": "sister-in-law"},
    {"label": "SOCIAL_REL", "pattern": "lolo"},              # grandfather
    {"label": "SOCIAL_REL", "pattern": "grandfather"},
    {"label": "SOCIAL_REL", "pattern": "lola"},              # grandmother
    {"label": "SOCIAL_REL", "pattern": "grandmother"},
    {"label": "SOCIAL_REL", "pattern": "tiyo"},              # uncle
    {"label": "SOCIAL_REL", "pattern": "uncle"},
    {"label": "SOCIAL_REL", "pattern": "tiya"},              # aunt
    {"label": "SOCIAL_REL", "pattern": "aunt"},
    {"label": "SOCIAL_REL", "pattern": "inaanak"},           # godchild
    {"label": "SOCIAL_REL", "pattern": "godchild"},
    {"label": "SOCIAL_REL", "pattern": "ninong"},            # godfather
    {"label": "SOCIAL_REL", "pattern": "godfather"},
    {"label": "SOCIAL_REL", "pattern": "ninang"},            # godmother
    {"label": "SOCIAL_REL", "pattern": "godmother"},
    {"label": "SOCIAL_REL", "pattern": "kasambahay"},        # household helper
    {"label": "SOCIAL_REL", "pattern": "helper"},
    {"label": "SOCIAL_REL", "pattern": "kasosyo"},           # partner (business/life)
    {"label": "SOCIAL_REL", "pattern": "partner"},
    {"label": "SOCIAL_REL", "pattern": "kaibigan sa trabaho"}, # work friend
    {"label": "SOCIAL_REL", "pattern": "workmate"},
    {"label": "SOCIAL_REL", "pattern": "kapwa"},             # fellow
    {"label": "SOCIAL_REL", "pattern": "neighbor's child"},
    {"label": "SOCIAL_REL", "pattern": "barkada"},           # peer group/friends
    {"label": "SOCIAL_REL", "pattern": "peer"},
    
    # Social Settings and Activities
    {"label": "SOCIAL_ACT", "pattern": "simbahan"},
    {"label": "SOCIAL_ACT", "pattern": "church"},
    {"label": "SOCIAL_ACT", "pattern": "senior center"},
    {"label": "SOCIAL_ACT", "pattern": "community gathering"},
    {"label": "SOCIAL_ACT", "pattern": "birthday celebration"},
    {"label": "SOCIAL_ACT", "pattern": "family reunion"},
    {"label": "SOCIAL_ACT", "pattern": "pagtitipon"},
    {"label": "SOCIAL_ACT", "pattern": "gathering"},
    {"label": "SOCIAL_ACT", "pattern": "bisita"},
    {"label": "SOCIAL_ACT", "pattern": "visit"},
    {"label": "SOCIAL_ACT", "pattern": "pakikipag-usap"},
    {"label": "SOCIAL_ACT", "pattern": "conversation"},
    {"label": "SOCIAL_ACT", "pattern": "social media"},
    {"label": "SOCIAL_ACT", "pattern": "video call"},
    {"label": "SOCIAL_ACT", "pattern": "tawag"},
    {"label": "SOCIAL_ACT", "pattern": "phone call"},
    {"label": "SOCIAL_ACT", "pattern": "fiesta"},
    {"label": "SOCIAL_ACT", "pattern": "piyesta"},
    {"label": "SOCIAL_ACT", "pattern": "bayanihan"},
    {"label": "SOCIAL_ACT", "pattern": "kasal"},
    {"label": "SOCIAL_ACT", "pattern": "binyag"},
    {"label": "SOCIAL_ACT", "pattern": "lamay"},
    {"label": "SOCIAL_ACT", "pattern": "burol"},
    {"label": "SOCIAL_ACT", "pattern": "libing"},
    {"label": "SOCIAL_ACT", "pattern": "novena"},
    {"label": "SOCIAL_ACT", "pattern": "misa"},
    {"label": "SOCIAL_ACT", "pattern": "dalaw"},
    {"label": "SOCIAL_ACT", "pattern": "pagbabahay-bahay"},
    {"label": "SOCIAL_ACT", "pattern": "tsismisan"},
    {"label": "SOCIAL_ACT", "pattern": "kwentuhan"},
    {"label": "SOCIAL_ACT", "pattern": "kantahan"},
    {"label": "SOCIAL_ACT", "pattern": "sayawan"},
    {"label": "SOCIAL_ACT", "pattern": "inuman"},
    {"label": "SOCIAL_ACT", "pattern": "salu-salo"},
    {"label": "SOCIAL_ACT", "pattern": "handaan"},
    {"label": "SOCIAL_ACT", "pattern": "piknik"},
    {"label": "SOCIAL_ACT", "pattern": "paglalaro ng mahjong"},
    {"label": "SOCIAL_ACT", "pattern": "pagdarasal"},
    {"label": "SOCIAL_ACT", "pattern": "prayer meeting"},
    {"label": "SOCIAL_ACT", "pattern": "bible study"},
    
    # Environment
    {"label": "ENVIRONMENT", "pattern": "bahay"},
    {"label": "ENVIRONMENT", "pattern": "home"},
    {"label": "ENVIRONMENT", "pattern": "apartment"},
    {"label": "ENVIRONMENT", "pattern": "kitchen"},
    {"label": "ENVIRONMENT", "pattern": "kusina"},
    {"label": "ENVIRONMENT", "pattern": "banyo"},
    {"label": "ENVIRONMENT", "pattern": "bathroom"},
    {"label": "ENVIRONMENT", "pattern": "kwarto"},
    {"label": "ENVIRONMENT", "pattern": "bedroom"},
    {"label": "ENVIRONMENT", "pattern": "sala"},
    {"label": "ENVIRONMENT", "pattern": "living room"},
    {"label": "ENVIRONMENT", "pattern": "hagdan"},
    {"label": "ENVIRONMENT", "pattern": "stairs"},
    {"label": "ENVIRONMENT", "pattern": "garden"},
    {"label": "ENVIRONMENT", "pattern": "hardin"},
    {"label": "ENVIRONMENT", "pattern": "bakuran"},
    {"label": "ENVIRONMENT", "pattern": "yard"},
    {"label": "ENVIRONMENT", "pattern": "village"},
    {"label": "ENVIRONMENT", "pattern": "barangay"},
    {"label": "ENVIRONMENT", "pattern": "rural"},
    {"label": "ENVIRONMENT", "pattern": "urban"},
    {"label": "ENVIRONMENT", "pattern": "probinsya"},
    {"label": "ENVIRONMENT", "pattern": "province"},
    {"label": "ENVIRONMENT", "pattern": "lungsod"},
    {"label": "ENVIRONMENT", "pattern": "city"},
    {"label": "ENVIRONMENT", "pattern": "Maynila"},
    {"label": "ENVIRONMENT", "pattern": "paaralan"},
    {"label": "ENVIRONMENT", "pattern": "eskwelahan"},
    {"label": "ENVIRONMENT", "pattern": "health center"},
    {"label": "ENVIRONMENT", "pattern": "sentro ng kalusugan"},
    {"label": "ENVIRONMENT", "pattern": "ospital"},
    {"label": "ENVIRONMENT", "pattern": "palengke"},
    {"label": "ENVIRONMENT", "pattern": "merkado"},
    {"label": "ENVIRONMENT", "pattern": "tindahan"},
    {"label": "ENVIRONMENT", "pattern": "sari-sari store"},
    {"label": "ENVIRONMENT", "pattern": "dyip"},
    {"label": "ENVIRONMENT", "pattern": "jeepney"},
    {"label": "ENVIRONMENT", "pattern": "tricycle"},
    {"label": "ENVIRONMENT", "pattern": "traysikel"},
    {"label": "ENVIRONMENT", "pattern": "kalye"},
    {"label": "ENVIRONMENT", "pattern": "daan"},
    {"label": "ENVIRONMENT", "pattern": "kusina sa labas"},
    {"label": "ENVIRONMENT", "pattern": "outdoor kitchen"},
    {"label": "ENVIRONMENT", "pattern": "simbahan"},
    {"label": "ENVIRONMENT", "pattern": "plaza"},
    {"label": "ENVIRONMENT", "pattern": "munisipyo"},
    {"label": "ENVIRONMENT", "pattern": "terminal"},
    {"label": "ENVIRONMENT", "pattern": "paliparan"},
    {"label": "ENVIRONMENT", "pattern": "talipapa"},
    {"label": "ENVIRONMENT", "pattern": "subdivision"},
    {"label": "ENVIRONMENT", "pattern": "condo"},
    {"label": "ENVIRONMENT", "pattern": "apartment"},
    
    # Emotional States
    {"label": "EMOTION", "pattern": "kalungkutan"},
    {"label": "EMOTION", "pattern": "sadness"},
    {"label": "EMOTION", "pattern": "pagkabalisa"},
    {"label": "EMOTION", "pattern": "anxiety"},
    {"label": "EMOTION", "pattern": "kawalan ng pag-asa"},
    {"label": "EMOTION", "pattern": "hopelessness"},
    {"label": "EMOTION", "pattern": "stress"},
    {"label": "EMOTION", "pattern": "frustration"},
    {"label": "EMOTION", "pattern": "pagkabigo"},
    {"label": "EMOTION", "pattern": "takot"},
    {"label": "EMOTION", "pattern": "fear"},
    {"label": "EMOTION", "pattern": "galit"},
    {"label": "EMOTION", "pattern": "anger"},
    {"label": "EMOTION", "pattern": "irritable"},
    {"label": "EMOTION", "pattern": "iritable"},
    {"label": "EMOTION", "pattern": "kasiyahan"},
    {"label": "EMOTION", "pattern": "happiness"},
    {"label": "EMOTION", "pattern": "contentment"},
    {"label": "EMOTION", "pattern": "kapanatagan"},
    {"label": "EMOTION", "pattern": "pride"},
    {"label": "EMOTION", "pattern": "dignity"},
    {"label": "EMOTION", "pattern": "dignidad"},
    {"label": "EMOTION", "pattern": "self-worth"},
    {"label": "EMOTION", "pattern": "embarrassment"},
    {"label": "EMOTION", "pattern": "kahihiyan"},
    {"label": "EMOTION", "pattern": "balisa"},
    {"label": "EMOTION", "pattern": "nababahala"},
    {"label": "EMOTION", "pattern": "nasasabik"},
    {"label": "EMOTION", "pattern": "naiinis"},
    {"label": "EMOTION", "pattern": "nababagot"},
    {"label": "EMOTION", "pattern": "boredom"},
    {"label": "EMOTION", "pattern": "natatakot"},
    {"label": "EMOTION", "pattern": "kinakabahan"},
    {"label": "EMOTION", "pattern": "kinatatakutan"},
    {"label": "EMOTION", "pattern": "hiyang-hiya"},
    {"label": "EMOTION", "pattern": "napapahiya"},
    {"label": "EMOTION", "pattern": "nalulumbay"},
    {"label": "EMOTION", "pattern": "lungkot"},
    {"label": "EMOTION", "pattern": "kasiyahan"},
    {"label": "EMOTION", "pattern": "tuwa"},
    {"label": "EMOTION", "pattern": "galak"},
    {"label": "EMOTION", "pattern": "ligaya"},
    {"label": "EMOTION", "pattern": "pagkadismaya"},
    {"label": "EMOTION", "pattern": "disappointment"},
    {"label": "EMOTION", "pattern": "pagkabigo"},
    {"label": "EMOTION", "pattern": "panlulumong"},
    {"label": "EMOTION", "pattern": "pag-iisa"},
    {"label": "EMOTION", "pattern": "loneliness"},
    {"label": "EMOTION", "pattern": "soledad"},
    {"label": "EMOTION", "pattern": "pagkadurog ng puso"},
    {"label": "EMOTION", "pattern": "heartbreak"},
    
    # Cognitive Concepts
    {"label": "COGNITIVE", "pattern": "memorya"},
    {"label": "COGNITIVE", "pattern": "memory"},
    {"label": "COGNITIVE", "pattern": "nakalimutan"},
    {"label": "COGNITIVE", "pattern": "forgotten"},
    {"label": "COGNITIVE", "pattern": "pagkalito"},
    {"label": "COGNITIVE", "pattern": "confusion"},
    {"label": "COGNITIVE", "pattern": "orientation"},
    {"label": "COGNITIVE", "pattern": "disorientation"},
    {"label": "COGNITIVE", "pattern": "pag-iisip"},
    {"label": "COGNITIVE", "pattern": "thinking"},
    {"label": "COGNITIVE", "pattern": "decision-making"},
    {"label": "COGNITIVE", "pattern": "pagdedesisyon"},
    {"label": "COGNITIVE", "pattern": "comprehension"},
    {"label": "COGNITIVE", "pattern": "pag-unawa"},
    {"label": "COGNITIVE", "pattern": "attention"},
    {"label": "COGNITIVE", "pattern": "atensyon"},
    {"label": "COGNITIVE", "pattern": "concentration"},
    {"label": "COGNITIVE", "pattern": "konsentrasyon"},
    {"label": "COGNITIVE", "pattern": "naaalala"},
    {"label": "COGNITIVE", "pattern": "nakakaalala"},
    {"label": "COGNITIVE", "pattern": "natatandaan"},
    {"label": "COGNITIVE", "pattern": "nakatatandaan"},
    {"label": "COGNITIVE", "pattern": "nakakaisip"},
    {"label": "COGNITIVE", "pattern": "nakakaunawa"},
    {"label": "COGNITIVE", "pattern": "pagkaintindi"},
    {"label": "COGNITIVE", "pattern": "understanding"},
    {"label": "COGNITIVE", "pattern": "pagkatuto"},
    {"label": "COGNITIVE", "pattern": "learning"},
    {"label": "COGNITIVE", "pattern": "karunungan"},
    {"label": "COGNITIVE", "pattern": "wisdom"},
    {"label": "COGNITIVE", "pattern": "kaalaman"},
    {"label": "COGNITIVE", "pattern": "knowledge"},
    {"label": "COGNITIVE", "pattern": "kaisipan"},
    {"label": "COGNITIVE", "pattern": "thought process"},
    {"label": "COGNITIVE", "pattern": "pagmumuni-muni"},
    {"label": "COGNITIVE", "pattern": "reflection"},
    {"label": "COGNITIVE", "pattern": "pagbibigay-pansin"},
    {"label": "COGNITIVE", "pattern": "gunita"},
    {"label": "COGNITIVE", "pattern": "alaala"},
    {"label": "COGNITIVE", "pattern": "memories"},
    {"label": "COGNITIVE", "pattern": "panggitnang alaala"},
    {"label": "COGNITIVE", "pattern": "short-term memory"},
    {"label": "COGNITIVE", "pattern": "pangmatagalang alaala"},
    {"label": "COGNITIVE", "pattern": "long-term memory"},
        
    # Communication
    {"label": "COMMUNICATION", "pattern": "komunikasyon"},
    {"label": "COMMUNICATION", "pattern": "communication"},
    {"label": "COMMUNICATION", "pattern": "pakikipag-usap"},
    {"label": "COMMUNICATION", "pattern": "conversation"},
    {"label": "COMMUNICATION", "pattern": "pakikinig"},
    {"label": "COMMUNICATION", "pattern": "listening"},
    {"label": "COMMUNICATION", "pattern": "pagsasalita"},
    {"label": "COMMUNICATION", "pattern": "speaking"},
    {"label": "COMMUNICATION", "pattern": "pagbabasa"},
    {"label": "COMMUNICATION", "pattern": "reading"},
    {"label": "COMMUNICATION", "pattern": "pagsusulat"},
    {"label": "COMMUNICATION", "pattern": "writing"},
    {"label": "COMMUNICATION", "pattern": "language"},
    {"label": "COMMUNICATION", "pattern": "wika"},
    {"label": "COMMUNICATION", "pattern": "dialect"},
    {"label": "COMMUNICATION", "pattern": "diyalekto"},
    {"label": "COMMUNICATION", "pattern": "text message"},
    {"label": "COMMUNICATION", "pattern": "tawagan"},
    {"label": "COMMUNICATION", "pattern": "usapan"},
    {"label": "COMMUNICATION", "pattern": "dialogue"},
    {"label": "COMMUNICATION", "pattern": "pag-uusap"},
    {"label": "COMMUNICATION", "pattern": "liham"},
    {"label": "COMMUNICATION", "pattern": "letter"},
    {"label": "COMMUNICATION", "pattern": "pagsulat"},
    {"label": "COMMUNICATION", "pattern": "pagbabasa ng labi"},
    {"label": "COMMUNICATION", "pattern": "lip reading"},
    {"label": "COMMUNICATION", "pattern": "sign language"},
    {"label": "COMMUNICATION", "pattern": "senyas"},
    {"label": "COMMUNICATION", "pattern": "pagsenyas"},
    {"label": "COMMUNICATION", "pattern": "pagtuturo"},
    {"label": "COMMUNICATION", "pattern": "pointing"},
    {"label": "COMMUNICATION", "pattern": "pagganap"},
    {"label": "COMMUNICATION", "pattern": "acting out"},
    {"label": "COMMUNICATION", "pattern": "pagguhit"},
    {"label": "COMMUNICATION", "pattern": "drawing"},
    {"label": "COMMUNICATION", "pattern": "pagpapahayag"},
    {"label": "COMMUNICATION", "pattern": "expression"},
    {"label": "COMMUNICATION", "pattern": "pakikipag-usap sa telepono"},
    {"label": "COMMUNICATION", "pattern": "pakikipag-usap online"},
    {"label": "COMMUNICATION", "pattern": "pagmumungkahi"},
    {"label": "COMMUNICATION", "pattern": "suggesting"},
    
    # Cultural Factors
    {"label": "CULTURAL", "pattern": "tradisyon"},
    {"label": "CULTURAL", "pattern": "tradition"},
    {"label": "CULTURAL", "pattern": "kultura"},
    {"label": "CULTURAL", "pattern": "culture"},
    {"label": "CULTURAL", "pattern": "belief"},
    {"label": "CULTURAL", "pattern": "paniniwala"},
    {"label": "CULTURAL", "pattern": "values"},
    {"label": "CULTURAL", "pattern": "religious"},
    {"label": "CULTURAL", "pattern": "relihiyon"},
    {"label": "CULTURAL", "pattern": "spiritual"},
    {"label": "CULTURAL", "pattern": "espiritual"},
    {"label": "CULTURAL", "pattern": "customs"},
    {"label": "CULTURAL", "pattern": "kaugalian"},
    {"label": "CULTURAL", "pattern": "Filipino lifestyle"},
    {"label": "CULTURAL", "pattern": "diwang Pilipino"},
    {"label": "CULTURAL", "pattern": "pagkamakabayan"},
    {"label": "CULTURAL", "pattern": "patriotism"},
    {"label": "CULTURAL", "pattern": "hiya"},
    {"label": "CULTURAL", "pattern": "utang na loob"},
    {"label": "CULTURAL", "pattern": "pakikisama"},
    {"label": "CULTURAL", "pattern": "bayanihan"},
    {"label": "CULTURAL", "pattern": "pagpapasalamat"},
    {"label": "CULTURAL", "pattern": "thanksgiving"},
    {"label": "CULTURAL", "pattern": "pagdiriwang"},
    {"label": "CULTURAL", "pattern": "celebration"},
    {"label": "CULTURAL", "pattern": "pamahiin"},
    {"label": "CULTURAL", "pattern": "superstition"},
    {"label": "CULTURAL", "pattern": "ritwal"},
    {"label": "CULTURAL", "pattern": "ritual"},
    {"label": "CULTURAL", "pattern": "pagbati"},
    {"label": "CULTURAL", "pattern": "greeting"},
    {"label": "CULTURAL", "pattern": "mano po"},
    {"label": "CULTURAL", "pattern": "pagmamano"},
    {"label": "CULTURAL", "pattern": "balasubas"},
    {"label": "CULTURAL", "pattern": "galang"},
    {"label": "CULTURAL", "pattern": "respect"},
    {"label": "CULTURAL", "pattern": "paggalang sa matatanda"},
    {"label": "CULTURAL", "pattern": "respeto sa nakatatanda"},
    {"label": "CULTURAL", "pattern": "pagpupugay"},
    {"label": "CULTURAL", "pattern": "kultura ng tahimik na pagtitiis"},
    
    # Financial/Economic Aspects
    {"label": "ECONOMIC", "pattern": "gastos"},
    {"label": "ECONOMIC", "pattern": "expenses"},
    {"label": "ECONOMIC", "pattern": "budget"},
    {"label": "ECONOMIC", "pattern": "badyet"},
    {"label": "ECONOMIC", "pattern": "income"},
    {"label": "ECONOMIC", "pattern": "kita"},
    {"label": "ECONOMIC", "pattern": "insurance"},
    {"label": "ECONOMIC", "pattern": "pension"},
    {"label": "ECONOMIC", "pattern": "pensiyon"},
    {"label": "ECONOMIC", "pattern": "savings"},
    {"label": "ECONOMIC", "pattern": "financial concern"},
    {"label": "ECONOMIC", "pattern": "PhilHealth"},
    {"label": "ECONOMIC", "pattern": "social security"},
    {"label": "ECONOMIC", "pattern": "afford"},
    {"label": "ECONOMIC", "pattern": "cost"},
    {"label": "ECONOMIC", "pattern": "mahal"},
    {"label": "ECONOMIC", "pattern": "expensive"},
    {"label": "ECONOMIC", "pattern": "ipon"},
    {"label": "ECONOMIC", "pattern": "savings"},
    {"label": "ECONOMIC", "pattern": "utang"},
    {"label": "ECONOMIC", "pattern": "debt"},
    {"label": "ECONOMIC", "pattern": "pautang"},
    {"label": "ECONOMIC", "pattern": "loan"},
    {"label": "ECONOMIC", "pattern": "hulugan"},
    {"label": "ECONOMIC", "pattern": "installment"},
    {"label": "ECONOMIC", "pattern": "kabuhayan"},
    {"label": "ECONOMIC", "pattern": "livelihood"},
    {"label": "ECONOMIC", "pattern": "negosyo"},
    {"label": "ECONOMIC", "pattern": "business"},
    {"label": "ECONOMIC", "pattern": "trabaho"},
    {"label": "ECONOMIC", "pattern": "job"},
    {"label": "ECONOMIC", "pattern": "sahod"},
    {"label": "ECONOMIC", "pattern": "salary"},
    {"label": "ECONOMIC", "pattern": "suweldo"},
    {"label": "ECONOMIC", "pattern": "wage"},
    {"label": "ECONOMIC", "pattern": "pamasahe"},
    {"label": "ECONOMIC", "pattern": "fare"},
    {"label": "ECONOMIC", "pattern": "tuition fee"},
    {"label": "ECONOMIC", "pattern": "matrikula"},
    {"label": "ECONOMIC", "pattern": "ayuda"},
    {"label": "ECONOMIC", "pattern": "financial aid"},
    {"label": "ECONOMIC", "pattern": "Senior Citizen discount"},
    {"label": "ECONOMIC", "pattern": "SSS pension"},
    {"label": "ECONOMIC", "pattern": "GSIS pension"},
    
    # Daily Living Activities
    {"label": "ADL", "pattern": "pagligo"},
    {"label": "ADL", "pattern": "bathing"},
    {"label": "ADL", "pattern": "pagbibihis"},
    {"label": "ADL", "pattern": "dressing"},
    {"label": "ADL", "pattern": "pagluluto"},
    {"label": "ADL", "pattern": "cooking"},
    {"label": "ADL", "pattern": "paglilinis"},
    {"label": "ADL", "pattern": "cleaning"},
    {"label": "ADL", "pattern": "pagkain"},
    {"label": "ADL", "pattern": "eating"},
    {"label": "ADL", "pattern": "paglalaba"},
    {"label": "ADL", "pattern": "laundry"},
    {"label": "ADL", "pattern": "grocery"},
    {"label": "ADL", "pattern": "shopping"},
    {"label": "ADL", "pattern": "pamimili"},
    {"label": "ADL", "pattern": "transportation"},
    {"label": "ADL", "pattern": "commute"},
    {"label": "ADL", "pattern": "biyahe"},
    {"label": "ADL", "pattern": "self-care"},
    {"label": "ADL", "pattern": "hygiene"},
    {"label": "ADL", "pattern": "kalinisan"},
    {"label": "ADL", "pattern": "pagpapahinga"},
    {"label": "ADL", "pattern": "resting"},
    {"label": "ADL", "pattern": "pagtulog"},
    {"label": "ADL", "pattern": "sleeping"},
    {"label": "ADL", "pattern": "pangangatawan"},
    {"label": "ADL", "pattern": "exercise"},
    {"label": "ADL", "pattern": "paggising"},
    {"label": "ADL", "pattern": "waking up"},
    {"label": "ADL", "pattern": "paghuhugas ng pinggan"},
    {"label": "ADL", "pattern": "washing dishes"},
    {"label": "ADL", "pattern": "pagbubukas ng bintana"},
    {"label": "ADL", "pattern": "opening windows"},
    {"label": "ADL", "pattern": "pagbubukas ng pinto"},
    {"label": "ADL", "pattern": "opening doors"},
    {"label": "ADL", "pattern": "pagsusuklay ng buhok"},
    {"label": "ADL", "pattern": "combing hair"},
    {"label": "ADL", "pattern": "pag-akyat ng hagdan"},
    {"label": "ADL", "pattern": "climbing stairs"},
    {"label": "ADL", "pattern": "pagbababa ng hagdan"},
    {"label": "ADL", "pattern": "going down stairs"},
    {"label": "ADL", "pattern": "paglalakad"},
    {"label": "ADL", "pattern": "walking"},
    {"label": "ADL", "pattern": "pagpunta sa palengke"},
    {"label": "ADL", "pattern": "going to market"},
    {"label": "ADL", "pattern": "pag-inom ng gamot"},
    {"label": "ADL", "pattern": "taking medicine"},
    
    # Safety and Independence
    {"label": "SAFETY", "pattern": "kaligtasan"},
    {"label": "SAFETY", "pattern": "safety"},
    {"label": "SAFETY", "pattern": "risk"},
    {"label": "SAFETY", "pattern": "peligro"},
    {"label": "SAFETY", "pattern": "danger"},
    {"label": "SAFETY", "pattern": "fall"},
    {"label": "SAFETY", "pattern": "pagkahulog"},
    {"label": "SAFETY", "pattern": "independent"},
    {"label": "SAFETY", "pattern": "malaya"},
    {"label": "SAFETY", "pattern": "dependent"},
    {"label": "SAFETY", "pattern": "nangangailangan ng tulong"},
    {"label": "SAFETY", "pattern": "supervision"},
    {"label": "SAFETY", "pattern": "pangagalaga"},
    {"label": "SAFETY", "pattern": "emergency"},
    {"label": "SAFETY", "pattern": "accident"},
    {"label": "SAFETY", "pattern": "aksidente"},
    {"label": "SAFETY", "pattern": "pag-iingat"},
    {"label": "SAFETY", "pattern": "being careful"},
    {"label": "SAFETY", "pattern": "pagbabantay"},
    {"label": "SAFETY", "pattern": "keeping watch"},
    {"label": "SAFETY", "pattern": "pagsusuot ng seatbelt"},
    {"label": "SAFETY", "pattern": "wearing seatbelt"},
    {"label": "SAFETY", "pattern": "pagkakaroon ng cellphone"},
    {"label": "SAFETY", "pattern": "having cellphone"},
    {"label": "SAFETY", "pattern": "pagtawag para sa tulong"},
    {"label": "SAFETY", "pattern": "calling for help"},
    {"label": "SAFETY", "pattern": "pagsigurado"},
    {"label": "SAFETY", "pattern": "making sure"},
    {"label": "SAFETY", "pattern": "pagkakaroon ng emergency contacts"},
    {"label": "SAFETY", "pattern": "having emergency contacts"},
    {"label": "SAFETY", "pattern": "pagkakaroon ng medical ID"},
    {"label": "SAFETY", "pattern": "having medical ID"},
    {"label": "SAFETY", "pattern": "pagsusuri ng bahay"},
    {"label": "SAFETY", "pattern": "home inspection"},
    {"label": "SAFETY", "pattern": "pag-iwas sa madulas na sahig"},
    {"label": "SAFETY", "pattern": "avoiding slippery floors"},
    {"label": "SAFETY", "pattern": "pag-iwas sa pagkahulog"},
    {"label": "SAFETY", "pattern": "fall prevention"},
    {"label": "SAFETY", "pattern": "kasarinlan"},
    {"label": "SAFETY", "pattern": "independence"},
    {"label": "SAFETY", "pattern": "kalayaan sa pagkilos"},
    {"label": "SAFETY", "pattern": "freedom of movement"},
    {"label": "SAFETY", "pattern": "sariling kakayahan"},
    {"label": "SAFETY", "pattern": "self-capability"},
]
evaluation_patterns = [
    # Recommendation phrases (common in evaluations)
    {"label": "RECOMMENDATION", "pattern": "inirerekomenda ko"},
    {"label": "RECOMMENDATION", "pattern": "iminumungkahi ko"},
    {"label": "RECOMMENDATION", "pattern": "pinapayuhan ko"},
    {"label": "RECOMMENDATION", "pattern": "ipinapayo ko"},
    {"label": "RECOMMENDATION", "pattern": "nirerekomenda ko"},
    {"label": "RECOMMENDATION", "pattern": "binigyang-diin ko"},
    {"label": "RECOMMENDATION", "pattern": "iminungkahi ko"},
    {"label": "RECOMMENDATION", "pattern": "mahalagang"},
    {"label": "RECOMMENDATION", "pattern": "kinausap ko"},
    {"label": "RECOMMENDATION", "pattern": "maaaring subukan ang"},
    {"label": "RECOMMENDATION", "pattern": "dapat na"},
    {"label": "RECOMMENDATION", "pattern": "hinihikayat ko"},
    {"label": "RECOMMENDATION", "pattern": "binigyan ko ng"},
    {"label": "RECOMMENDATION", "pattern": "tinuruan ko"},
    {"label": "RECOMMENDATION", "pattern": "kailangan ng"},
    {"label": "RECOMMENDATION", "pattern": "mungkahi ko ay"},
    {"label": "RECOMMENDATION", "pattern": "iminumungkahi kong"},
    {"label": "RECOMMENDATION", "pattern": "pinakamainam na gawin"},
    {"label": "RECOMMENDATION", "pattern": "dapat isaalang-alang"},
    {"label": "RECOMMENDATION", "pattern": "nararapat na gawin"},
    {"label": "RECOMMENDATION", "pattern": "mas epektibong paraan"},
    {"label": "RECOMMENDATION", "pattern": "maaaring subukan"},
    {"label": "RECOMMENDATION", "pattern": "angkop na gawin"},
    {"label": "RECOMMENDATION", "pattern": "maaasahan na makakatulong"},
    {"label": "RECOMMENDATION", "pattern": "pinapayuhan na"},
    {"label": "RECOMMENDATION", "pattern": "ipinagmumungkahi ko na"},
    {"label": "RECOMMENDATION", "pattern": "mabisang solusyon"},
    {"label": "RECOMMENDATION", "pattern": "rekomendasyon ko ay"},
    {"label": "RECOMMENDATION", "pattern": "tiyak na makakatulong"},
    {"label": "RECOMMENDATION", "pattern": "kinakailangang aksyunan"},
    
    # Healthcare professional consultations
    {"label": "HEALTHCARE_REFERRAL", "pattern": "konsultasyon sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "pagpapatingin sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "kausapin ang doktor"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "medical evaluation"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "assessment mula sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "referral sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "physical therapist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "occupational therapist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "geriatric psychiatrist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "audiologist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "ophthalmologist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "dietitian"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "nutritionist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "gastroenterologist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "geriatrician"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "neurologist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "urologist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "speech therapist"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "ipasa sa espesyalista"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "kumonsulta sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "pagsangguni sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "magpatingin sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "ipatingin sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "magpakonsulta kay"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "irefer sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "magpa-appointment sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "kumuha ng second opinion mula sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "mangyaring magpakita kay"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "pagkonsultahin ang"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "humingi ng payo mula sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "ipatingin muna kay"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "makipag-ugnayan sa"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "magtanong sa espesyalista ng"},
    
    # Treatment methods and approaches
    {"label": "TREATMENT_METHOD", "pattern": "modified yoga poses"},
    {"label": "TREATMENT_METHOD", "pattern": "gentle stretching"},
    {"label": "TREATMENT_METHOD", "pattern": "progressive muscle relaxation"},
    {"label": "TREATMENT_METHOD", "pattern": "deep breathing exercises"},
    {"label": "TREATMENT_METHOD", "pattern": "light physical activity"},
    {"label": "TREATMENT_METHOD", "pattern": "short walks"},
    {"label": "TREATMENT_METHOD", "pattern": "gentle exercises"},
    {"label": "TREATMENT_METHOD", "pattern": "structured bedtime routine"},
    {"label": "TREATMENT_METHOD", "pattern": "energy conservation techniques"},
    {"label": "TREATMENT_METHOD", "pattern": "memory enhancement"},
    {"label": "TREATMENT_METHOD", "pattern": "cognitive stimulation"},
    {"label": "TREATMENT_METHOD", "pattern": "compression stockings"},
    {"label": "TREATMENT_METHOD", "pattern": "heat therapy"},
    {"label": "TREATMENT_METHOD", "pattern": "hot compress"},
    {"label": "TREATMENT_METHOD", "pattern": "cold compress"},
    {"label": "TREATMENT_METHOD", "pattern": "pain management"},
    {"label": "TREATMENT_METHOD", "pattern": "repositioning schedule"},
    {"label": "TREATMENT_METHOD", "pattern": "fluid management"},
    {"label": "TREATMENT_METHOD", "pattern": "medication review"},
    {"label": "TREATMENT_METHOD", "pattern": "palliative care"},
    {"label": "TREATMENT_METHOD", "pattern": "grief counseling"},
    {"label": "TREATMENT_METHOD", "pattern": "psychological counseling"},
    {"label": "TREATMENT_METHOD", "pattern": "validation therapy"},
    {"label": "TREATMENT_METHOD", "pattern": "ehersisyong pampalakas"},
    {"label": "TREATMENT_METHOD", "pattern": "regular na paglalakad"},
    {"label": "TREATMENT_METHOD", "pattern": "therapy sa katawan"},
    {"label": "TREATMENT_METHOD", "pattern": "paggamit ng mainit na compress"},
    {"label": "TREATMENT_METHOD", "pattern": "malamig na compress"},
    {"label": "TREATMENT_METHOD", "pattern": "pagsasanay para sa paghinga"},
    {"label": "TREATMENT_METHOD", "pattern": "breathing exercises"},
    {"label": "TREATMENT_METHOD", "pattern": "paggamit ng pang-alak na pahid"},
    {"label": "TREATMENT_METHOD", "pattern": "pahinga ng katawan"},
    {"label": "TREATMENT_METHOD", "pattern": "sensory integration therapy"},
    {"label": "TREATMENT_METHOD", "pattern": "pagsasanay ng paggalaw"},
    {"label": "TREATMENT_METHOD", "pattern": "takdang oras ng pagtulog"},
    {"label": "TREATMENT_METHOD", "pattern": "paggamit ng aromatherapy"},
    {"label": "TREATMENT_METHOD", "pattern": "ehersisyo sa tubig"},
    {"label": "TREATMENT_METHOD", "pattern": "pampahinga ng isip"},
    {"label": "TREATMENT_METHOD", "pattern": "pagmasahe ng mga kalamnan"},
    {"label": "TREATMENT_METHOD", "pattern": "Range of Motion exercises"},
    {"label": "TREATMENT_METHOD", "pattern": "ehersisyong pampataas ng kumpiyansa"},
    
    # Equipment and aids
    {"label": "EQUIPMENT", "pattern": "grab bars"},
    {"label": "EQUIPMENT", "pattern": "raised toilet seat"},
    {"label": "EQUIPMENT", "pattern": "shower chair"},
    {"label": "EQUIPMENT", "pattern": "non-slip mats"},
    {"label": "EQUIPMENT", "pattern": "walker"},
    {"label": "EQUIPMENT", "pattern": "cane"},
    {"label": "EQUIPMENT", "pattern": "quad cane"},
    {"label": "EQUIPMENT", "pattern": "pill organizer"},
    {"label": "EQUIPMENT", "pattern": "handheld showerhead"},
    {"label": "EQUIPMENT", "pattern": "assistive devices"},
    {"label": "EQUIPMENT", "pattern": "adaptive clothing"},
    {"label": "EQUIPMENT", "pattern": "long-handled tools"},
    {"label": "EQUIPMENT", "pattern": "medication chart"},
    {"label": "EQUIPMENT", "pattern": "hearing aid"},
    {"label": "EQUIPMENT", "pattern": "white noise machine"},
    {"label": "EQUIPMENT", "pattern": "mattress overlay"},
    {"label": "EQUIPMENT", "pattern": "motion-activated lights"},
    {"label": "EQUIPMENT", "pattern": "bedside commode"},
    {"label": "EQUIPMENT", "pattern": "adaptive utensils"},
    {"label": "EQUIPMENT", "pattern": "dressing stick"},
    {"label": "EQUIPMENT", "pattern": "saklay"},
    {"label": "EQUIPMENT", "pattern": "andador"},
    {"label": "EQUIPMENT", "pattern": "wheelchair na de-gulong"},
    {"label": "EQUIPMENT", "pattern": "baston"},
    {"label": "EQUIPMENT", "pattern": "hospital bed sa bahay"},
    {"label": "EQUIPMENT", "pattern": "oxygen tank"},
    {"label": "EQUIPMENT", "pattern": "salinan ng dugo"},
    {"label": "EQUIPMENT", "pattern": "pressure mattress"},
    {"label": "EQUIPMENT", "pattern": "gamit pang-angat ng katawan"},
    {"label": "EQUIPMENT", "pattern": "gamit na pantulong sa banyo"},
    {"label": "EQUIPMENT", "pattern": "gamit pantulak ng wheelchair"},
    {"label": "EQUIPMENT", "pattern": "electronic blood pressure monitor"},
    {"label": "EQUIPMENT", "pattern": "aparato sa pagsusuri ng asukal"},
    {"label": "EQUIPMENT", "pattern": "hearing aid"},
    {"label": "EQUIPMENT", "pattern": "salamin sa mata"},
    {"label": "EQUIPMENT", "pattern": "suporta sa likod"},
    {"label": "EQUIPMENT", "pattern": "suporta sa tuhod"},
    {"label": "EQUIPMENT", "pattern": "special na kutsilyo para sa mga may arthritis"},
    {"label": "EQUIPMENT", "pattern": "special na kutsara"},
    {"label": "EQUIPMENT", "pattern": "gamit na pambukas ng bote"},
    
    # Home safety and modifications
    {"label": "HOME_MODIFICATION", "pattern": "reorganization ng kitchen"},
    {"label": "HOME_MODIFICATION", "pattern": "ergonomic environment"},
    {"label": "HOME_MODIFICATION", "pattern": "blackout curtains"},
    {"label": "HOME_MODIFICATION", "pattern": "installation ng grab bars"},
    {"label": "HOME_MODIFICATION", "pattern": "night lights"},
    {"label": "HOME_MODIFICATION", "pattern": "elevated bed"},
    {"label": "HOME_MODIFICATION", "pattern": "lever-type faucets"},
    {"label": "HOME_MODIFICATION", "pattern": "contrasting color strips"},
    {"label": "HOME_MODIFICATION", "pattern": "removal ng loose rugs"},
    {"label": "HOME_MODIFICATION", "pattern": "adequate lighting"},
    {"label": "HOME_MODIFICATION", "pattern": "rubberized flooring"},
    {"label": "HOME_MODIFICATION", "pattern": "pagkabit ng hawakan sa banyo"},
    {"label": "HOME_MODIFICATION", "pattern": "pag-alis ng mga hadlang"},
    {"label": "HOME_MODIFICATION", "pattern": "pag-aayos ng mga kable"},
    {"label": "HOME_MODIFICATION", "pattern": "paglalagay ng non-slip mats"},
    {"label": "HOME_MODIFICATION", "pattern": "pagtataas ng kama"},
    {"label": "HOME_MODIFICATION", "pattern": "paglalagay ng ramp"},
    {"label": "HOME_MODIFICATION", "pattern": "pag-aayos ng hagdan para madaling akyatin"},
    {"label": "HOME_MODIFICATION", "pattern": "pagpapalapad ng mga pinto"},
    {"label": "HOME_MODIFICATION", "pattern": "paglalagay ng emergency call button"},
    {"label": "HOME_MODIFICATION", "pattern": "pag-install ng automatic lights"},
    {"label": "HOME_MODIFICATION", "pattern": "pag-aalis ng mga maliliit na carpet"},
    {"label": "HOME_MODIFICATION", "pattern": "paglalagay ng handrails sa pasilyo"},
    {"label": "HOME_MODIFICATION", "pattern": "paglalagay ng glow-in-the-dark markers"},
    {"label": "HOME_MODIFICATION", "pattern": "pagkabit ng shower seat"},
    {"label": "HOME_MODIFICATION", "pattern": "paggawa ng accessible na kusina"},
    
    # Monitoring and documentation
    {"label": "MONITORING", "pattern": "regular monitoring"},
    {"label": "MONITORING", "pattern": "observation ng symptoms"},
    {"label": "MONITORING", "pattern": "pagmo-monitor sa"},
    {"label": "MONITORING", "pattern": "tracking ng"},
    {"label": "MONITORING", "pattern": "regular check-ups"},
    {"label": "MONITORING", "pattern": "weekly review"},
    {"label": "MONITORING", "pattern": "assessment ng progress"},
    {"label": "MONITORING", "pattern": "symptom diary"},
    {"label": "MONITORING", "pattern": "food diary"},
    {"label": "MONITORING", "pattern": "hydration chart"},
    {"label": "MONITORING", "pattern": "blood glucose readings"},
    {"label": "MONITORING", "pattern": "medication log"},
    {"label": "MONITORING", "pattern": "turning chart"},
    {"label": "MONITORING", "pattern": "weight monitoring"},
    {"label": "MONITORING", "pattern": "pagsusuri ng asukal sa dugo"},
    {"label": "MONITORING", "pattern": "pagsukat ng presyon araw-araw"},
    {"label": "MONITORING", "pattern": "pagtatala ng temperatura"},
    {"label": "MONITORING", "pattern": "pag-monitor ng timbang"},
    {"label": "MONITORING", "pattern": "pagsusulat ng food diary"},
    {"label": "MONITORING", "pattern": "pagtatala ng oras ng pag-inom ng gamot"},
    {"label": "MONITORING", "pattern": "pagmonitor ng tubig na iniinom"},
    {"label": "MONITORING", "pattern": "pagtatala ng pagbabago ng ugali"},
    {"label": "MONITORING", "pattern": "pag-obserbahan ang mga side effects"},
    {"label": "MONITORING", "pattern": "pagmonitor ng kalidad ng tulog"},
    {"label": "MONITORING", "pattern": "pagtatala ng mga naramdamang sakit"},
    {"label": "MONITORING", "pattern": "pagsusuri ng balat"},
    {"label": "MONITORING", "pattern": "pagbibilang ng dami ng pag-ihi"},
    {"label": "MONITORING", "pattern": "pagtatala ng frequency ng pagdumi"},
    {"label": "MONITORING", "pattern": "pagtatanong tungkol sa kalagayan araw-araw"},
    {"label": "MONITORING", "pattern": "pagtatala ng behavioral changes"},
    
    # Dietary recommendations
    {"label": "DIET_RECOMMENDATION", "pattern": "frequent, small meals"},
    {"label": "DIET_RECOMMENDATION", "pattern": "balanced nutrition"},
    {"label": "DIET_RECOMMENDATION", "pattern": "adequate hydration"},
    {"label": "DIET_RECOMMENDATION", "pattern": "fluid intake"},
    {"label": "DIET_RECOMMENDATION", "pattern": "nutritionally dense"},
    {"label": "DIET_RECOMMENDATION", "pattern": "increased fiber"},
    {"label": "DIET_RECOMMENDATION", "pattern": "reduced salt"},
    {"label": "DIET_RECOMMENDATION", "pattern": "protein-rich"},
    {"label": "DIET_RECOMMENDATION", "pattern": "soft diet"},
    {"label": "DIET_RECOMMENDATION", "pattern": "thickened liquids"},
    {"label": "DIET_RECOMMENDATION", "pattern": "fortified foods"},
    {"label": "DIET_RECOMMENDATION", "pattern": "nutrient-dense foods"},
    {"label": "DIET_RECOMMENDATION", "pattern": "limiting caffeine"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pag-iwas sa alcohol"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagdagdag ng fiber sa pagkain"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagbawas ng maalat na pagkain"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain ng maraming prutas"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pag-inom ng walong baso ng tubig araw-araw"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagbawas ng matatamis na pagkain"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain ng maliit pero madalas"},
    {"label": "DIET_RECOMMENDATION", "pattern": "paghiwalayin ang pagkain at pag-inom ng tubig"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain ng maraming gulay"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagbawas ng processed foods"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagpili ng whole grain foods"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagluluto ng pagkaing madaling ngumuya"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagdagdag ng protina sa bawat pagkain"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagpili ng mga pagkaing mababa sa asukal"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pag-iwas sa caffeine bago matulog"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagsunod sa meal schedule"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagdagdag ng healthy fats sa diyeta"},
    
    # Communication strategies
    {"label": "COMMUNICATION_STRATEGY", "pattern": "clear at simple instructions"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "picture-based communication"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "face-to-face communication"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "speaking slowly"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "simplified language"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "written reminders"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "visual cues"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "validation ng feelings"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "redirection technique"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "avoiding contradiction"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "gentle reassurance"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagsasalita nang malinaw at mabagal"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "paggamit ng mga simpleng salita"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagbibigay ng isa-isang instruksyon"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagpapakita habang nagsasalita"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagsulat ng mga importanteng bagay"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagbibigay ng sapat na oras para makasagot"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "paggamit ng mga larawan"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pag-uulit ng mga mahahalagang punto"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "paggamit ng body language"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagpapanatili ng eye contact"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagpapatanggal ng distractions"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagkausap sa tahimik na lugar"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagtawag sa pangalan bago magsalita"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "paggamit ng mga karatula sa bahay"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "paggamit ng yes-no questions"},
    {"label": "COMMUNICATION_STRATEGY", "pattern": "pagpapahayag ng damdamin sa pamamagitan ng mukha"},
    
    # Psychosocial interventions
    {"label": "PSYCHOSOCIAL", "pattern": "family meetings"},
    {"label": "PSYCHOSOCIAL", "pattern": "support groups"},
    {"label": "PSYCHOSOCIAL", "pattern": "social reintegration"},
    {"label": "PSYCHOSOCIAL", "pattern": "meaningful activities"},
    {"label": "PSYCHOSOCIAL", "pattern": "cognitive reframing"},
    {"label": "PSYCHOSOCIAL", "pattern": "memory book"},
    {"label": "PSYCHOSOCIAL", "pattern": "life review"},
    {"label": "PSYCHOSOCIAL", "pattern": "emotional support"},
    {"label": "PSYCHOSOCIAL", "pattern": "preserving dignity"},
    {"label": "PSYCHOSOCIAL", "pattern": "promoting independence"},
    {"label": "PSYCHOSOCIAL", "pattern": "caregiver training"},
    {"label": "PSYCHOSOCIAL", "pattern": "caregiver support"},
    {"label": "PSYCHOSOCIAL", "pattern": "family education"},
    {"label": "PSYCHOSOCIAL", "pattern": "mga aktibidad na pangkomunidad"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagpapakain sa senior center"},
    {"label": "PSYCHOSOCIAL", "pattern": "suporta mula sa kapwa senior citizens"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagbisita ng mga kamag-anak"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagpapanatili ng daily routine"},
    {"label": "PSYCHOSOCIAL", "pattern": "pakikilahok sa religious activities"},
    {"label": "PSYCHOSOCIAL", "pattern": "paggawa ng memory book"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagtalakay ng mga alaala"},
    {"label": "PSYCHOSOCIAL", "pattern": "mga aktibidad na nagpapasaya"},
    {"label": "PSYCHOSOCIAL", "pattern": "paglalaro ng laro kasama ang mga apo"},
    {"label": "PSYCHOSOCIAL", "pattern": "pakikipag-usap sa kapwa matanda"},
    {"label": "PSYCHOSOCIAL", "pattern": "therapy na may kasamang pets"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagsali sa volunteer work"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagsasagawa ng mga hilig at libangan"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagkakaroon ng simple na responsibilidad"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagpapahinga sa tagapag-alaga"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagtatanong tungkol sa damdamin"},
    {"label": "PSYCHOSOCIAL", "pattern": "paglutas ng mga problema sa pamilya"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagtulong sa pag-aadjust sa pagbabago"},
    {"label": "PSYCHOSOCIAL", "pattern": "support sa pamilya at caregivers"},
    
    # Timeframes and scheduling
    {"label": "TIMEFRAME", "pattern": "daily routine"},
    {"label": "TIMEFRAME", "pattern": "weekly schedule"},
    {"label": "TIMEFRAME", "pattern": "araw-araw"},
    {"label": "TIMEFRAME", "pattern": "immediate intervention"},
    {"label": "TIMEFRAME", "pattern": "short-term management"},
    {"label": "TIMEFRAME", "pattern": "long-term strategy"},
    {"label": "TIMEFRAME", "pattern": "habang hinihintay"},
    {"label": "TIMEFRAME", "pattern": "sa susunod na pagbisita"},
    {"label": "TIMEFRAME", "pattern": "regular na assessment"},
    {"label": "TIMEFRAME", "pattern": "gradually increasing"},
    {"label": "TIMEFRAME", "pattern": "unti-unting transition"},
    {"label": "TIMEFRAME", "pattern": "tuwing umaga"},
    {"label": "TIMEFRAME", "pattern": "tuwing tanghali"},
    {"label": "TIMEFRAME", "pattern": "tuwing gabi"},
    {"label": "TIMEFRAME", "pattern": "bago matulog"},
    {"label": "TIMEFRAME", "pattern": "pagkagising"},
    {"label": "TIMEFRAME", "pattern": "dalawang beses sa isang araw"},
    {"label": "TIMEFRAME", "pattern": "tatlong beses sa isang araw"},
    {"label": "TIMEFRAME", "pattern": "bawat oras"},
    {"label": "TIMEFRAME", "pattern": "kada dalawang oras"},
    {"label": "TIMEFRAME", "pattern": "tuwing Lunes"},
    {"label": "TIMEFRAME", "pattern": "linggo-linggo"},
    {"label": "TIMEFRAME", "pattern": "buwan-buwan"},
    {"label": "TIMEFRAME", "pattern": "panandalian"},
    {"label": "TIMEFRAME", "pattern": "pangmatagalan"},
    {"label": "TIMEFRAME", "pattern": "agaran"},
    {"label": "TIMEFRAME", "pattern": "sa loob ng isang linggo"},
    {"label": "TIMEFRAME", "pattern": "sa loob ng isang buwan"},
    {"label": "TIMEFRAME", "pattern": "tuwing kumakain"},
    {"label": "TIMEFRAME", "pattern": "bago kumain"},
    {"label": "TIMEFRAME", "pattern": "pagkatapos kumain"},
    {"label": "TIMEFRAME", "pattern": "sa susunod na buwan"},
    
    # Warning signs
    {"label": "WARNING_SIGN", "pattern": "warning signs"},
    {"label": "WARNING_SIGN", "pattern": "red flags"},
    {"label": "WARNING_SIGN", "pattern": "mga palatandaan ng"},
    {"label": "WARNING_SIGN", "pattern": "signs of infection"},
    {"label": "WARNING_SIGN", "pattern": "signs of dehydration"},
    {"label": "WARNING_SIGN", "pattern": "indications ng worsening"},
    {"label": "WARNING_SIGN", "pattern": "biglang pagbabago ng ugali"},
    {"label": "WARNING_SIGN", "pattern": "hindi karaniwang pagkapagod"},
    {"label": "WARNING_SIGN", "pattern": "matinding pagkawala ng gana"},
    {"label": "WARNING_SIGN", "pattern": "hindi maipaliwanag na pamamaga"},
    {"label": "WARNING_SIGN", "pattern": "mga sintomas ng kakulangan sa tubig"},
    {"label": "WARNING_SIGN", "pattern": "matinding pagkalito"},
    {"label": "WARNING_SIGN", "pattern": "pagkahimatay"},
    {"label": "WARNING_SIGN", "pattern": "biglang pamamanas"},
    {"label": "WARNING_SIGN", "pattern": "pagbabago ng kulay ng balat"},
    {"label": "WARNING_SIGN", "pattern": "pagbaba ng lebel ng kamalayan"},
    {"label": "WARNING_SIGN", "pattern": "malabong paningin"},
    {"label": "WARNING_SIGN", "pattern": "pananakit ng dibdib"},
    {"label": "WARNING_SIGN", "pattern": "kahirapan sa pagsasalita"},
    {"label": "WARNING_SIGN", "pattern": "hindi maipaliwanag na lagnat"},
    {"label": "WARNING_SIGN", "pattern": "mabilis na paghinga"},
]

more_evaluation_patterns = [
    # General recommendation phrases
    {"label": "RECOMMENDATION", "pattern": "inirerekomenda"},
    {"label": "RECOMMENDATION", "pattern": "ipinapayo"},
    {"label": "RECOMMENDATION", "pattern": "maaaring"},
    {"label": "RECOMMENDATION", "pattern": "mainam"},
    {"label": "RECOMMENDATION", "pattern": "mas mainam"},
    {"label": "RECOMMENDATION", "pattern": "dapat"},
    {"label": "RECOMMENDATION", "pattern": "mahalaga"},
    {"label": "RECOMMENDATION", "pattern": "kritikal"},
    {"label": "RECOMMENDATION", "pattern": "napakahalaga"},
    {"label": "RECOMMENDATION", "pattern": "makakabuti"},
    {"label": "RECOMMENDATION", "pattern": "makatutulong"},
    
    # More specific evaluation entities
    {"label": "DIET_RECOMMENDATION", "pattern": "small meals"},
    {"label": "DIET_RECOMMENDATION", "pattern": "maliliit na meals"},
    {"label": "DIET_RECOMMENDATION", "pattern": "mababang sodium"},
    {"label": "DIET_RECOMMENDATION", "pattern": "mababang asukal"},
    {"label": "DIET_RECOMMENDATION", "pattern": "nutrient-dense"},
    {"label": "DIET_RECOMMENDATION", "pattern": "madaling matunaw"},
    {"label": "WARNING_SIGN", "pattern": "dry mouth"},
    {"label": "WARNING_SIGN", "pattern": "dehydration"},
    {"label": "WARNING_SIGN", "pattern": "increased dizziness"},
    {"label": "TREATMENT_METHOD", "pattern": "symptom diary"},
    {"label": "TREATMENT_METHOD", "pattern": "food diary"},
    {"label": "TREATMENT_METHOD", "pattern": "regular monitoring"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "registered dietitian"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "primary care physician"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain na mayaman sa protina"},
    {"label": "DIET_RECOMMENDATION", "pattern": "mas kaunting asin"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagtaas ng pag-inom ng tubig"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain na mababa sa taba"},
    {"label": "DIET_RECOMMENDATION", "pattern": "pagkain na madaling lunukin"},
    {"label": "TREATMENT_METHOD", "pattern": "pag-inom ng gamot nang tama"},
    {"label": "TREATMENT_METHOD", "pattern": "paggamit ng walker nang ligtas"},
    {"label": "TREATMENT_METHOD", "pattern": "tamang pagpalit ng posisyon"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "espesyalista sa puso"},
    {"label": "HEALTHCARE_REFERRAL", "pattern": "espesyalista sa baga"},
    {"label": "EQUIPMENT", "pattern": "oxygen concentrator"},
    {"label": "EQUIPMENT", "pattern": "hospital bed sa bahay"},
    {"label": "EQUIPMENT", "pattern": "gamit pang-sukat ng asukal"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagsali sa support group"},
    {"label": "PSYCHOSOCIAL", "pattern": "pagkonsulta sa counselor"}
] 
additional_medical_patterns = [
    # Filipino-specific health descriptions
    {"label": "SYMPTOM", "pattern": "nanginginig"},
    {"label": "SYMPTOM", "pattern": "nananakit"},
    {"label": "SYMPTOM", "pattern": "namimitig"},
    {"label": "SYMPTOM", "pattern": "mabigat ang pakiramdam"},
    {"label": "SYMPTOM", "pattern": "maputla"},
    {"label": "SYMPTOM", "pattern": "maputla ang balat"},
    {"label": "SYMPTOM", "pattern": "malamig ang kamay"},
    {"label": "SYMPTOM", "pattern": "mabilis ang tibok ng puso"},
    {"label": "SYMPTOM", "pattern": "mababaw ang paghinga"},
    {"label": "SYMPTOM", "pattern": "masakit ang mga kasukasuan"},
    {"label": "SYMPTOM", "pattern": "nananakit ang likod"},
    {"label": "SYMPTOM", "pattern": "hinahabol ang paghinga"},
    {"label": "SYMPTOM", "pattern": "walang ganang kumain"},
    {"label": "SYMPTOM", "pattern": "nangangayayat"},
    {"label": "SYMPTOM", "pattern": "kawalan ng ganang kumain"},
    {"label": "SYMPTOM", "pattern": "nahihirapang matulog"},
    {"label": "SYMPTOM", "pattern": "nahihirapang huminga"},
    {"label": "SYMPTOM", "pattern": "hirap sa pagnguya"},
    {"label": "SYMPTOM", "pattern": "hirap sa paglunok"},
    {"label": "SYMPTOM", "pattern": "walang lakas"},
    {"label": "SYMPTOM", "pattern": "nawawalang ng balanse"},
    {"label": "SYMPTOM", "pattern": "madaling mapagod"},
    {"label": "SYMPTOM", "pattern": "pagpapawis sa gabi"},
    {"label": "SYMPTOM", "pattern": "mahapdi ang pag-ihi"},
    {"label": "SYMPTOM", "pattern": "madalas na pag-ihi"},
    {"label": "SYMPTOM", "pattern": "nahihirapang tumayo"},
    {"label": "SYMPTOM", "pattern": "pamamanas"},
    {"label": "SYMPTOM", "pattern": "pamamaga"},
    {"label": "SYMPTOM", "pattern": "parang may kumukulong tubig sa tiyan"},
    {"label": "SYMPTOM", "pattern": "parang may karayom sa braso"},
    {"label": "SYMPTOM", "pattern": "naninigas ang leeg"},
    {"label": "SYMPTOM", "pattern": "bumibigat ang katawan"},
    {"label": "SYMPTOM", "pattern": "parang may kumakayod sa dibdib"},
    {"label": "SYMPTOM", "pattern": "nalilimahid ang bibig"},
    {"label": "SYMPTOM", "pattern": "namamaga ang paa tuwing hapon"},
    {"label": "SYMPTOM", "pattern": "kumukulo ang tiyan"},
    {"label": "SYMPTOM", "pattern": "nagsusuka ng mapait"},
    {"label": "SYMPTOM", "pattern": "namamanhid ang mga daliri"},
    {"label": "SYMPTOM", "pattern": "umiikot ang paningin"},
    {"label": "SYMPTOM", "pattern": "sumasakit ang ulo kapag tumitingin pababa"},
    {"label": "SYMPTOM", "pattern": "madilaw ang mata"},
    {"label": "SYMPTOM", "pattern": "matigas ang tiyan"},
    {"label": "SYMPTOM", "pattern": "parang may nakabara sa lalamunan"},
    
    # Cognitive symptoms - more specific patterns
    {"label": "COGNITIVE", "pattern": "nakakalimot ng mga bagay"},
    {"label": "COGNITIVE", "pattern": "hindi matandaan"},
    {"label": "COGNITIVE", "pattern": "nakakalimutan ang pangalan"},
    {"label": "COGNITIVE", "pattern": "nalilito sa araw"},
    {"label": "COGNITIVE", "pattern": "nalilito sa lugar"},
    {"label": "COGNITIVE", "pattern": "nalilito sa mga mukha"},
    {"label": "COGNITIVE", "pattern": "nahihirapan magbigay ng desisyon"},
    {"label": "COGNITIVE", "pattern": "paulit-ulit na tanong"},
    {"label": "COGNITIVE", "pattern": "paulit-ulit na kuwento"},
    {"label": "COGNITIVE", "pattern": "naghahalo ang mga ideya"},
    {"label": "COGNITIVE", "pattern": "hindi makasunod sa usapan"},
    {"label": "COGNITIVE", "pattern": "nakakalimutan ang mga kaganapan"},
    {"label": "COGNITIVE", "pattern": "hindi matandaan kung saan inilagay"},
    {"label": "COGNITIVE", "pattern": "inaakala na ninakaw ang gamit"},
    {"label": "COGNITIVE", "pattern": "pagbabago ng pag-iisip"},
    {"label": "COGNITIVE", "pattern": "pagkawala ng kakayahang magdesisyon"},
    {"label": "COGNITIVE", "pattern": "hindi maalala kung saan naparoon"},
    {"label": "COGNITIVE", "pattern": "nahihirapan sa mga simpleng pagkwenta"},
    {"label": "COGNITIVE", "pattern": "nalilito sa mga dating kaibigan"},
    {"label": "COGNITIVE", "pattern": "nakakalimutan ang petsa ngayon"},
    {"label": "COGNITIVE", "pattern": "di mahanap ang tamang salita"},
    {"label": "COGNITIVE", "pattern": "hindi makilala ang sariling mukha sa salamin"},
    {"label": "COGNITIVE", "pattern": "nahihirapan magplano ng mga gawain"},
    {"label": "COGNITIVE", "pattern": "hindi matandaan kung kumain na"},
    {"label": "COGNITIVE", "pattern": "paulit-ulit na pagsasalita ng parehong bagay"},
    {"label": "COGNITIVE", "pattern": "naglalagay ng mga bagay sa maling lugar"},
    {"label": "COGNITIVE", "pattern": "hindi matandaan kung paano magluto"},
    {"label": "COGNITIVE", "pattern": "pagkalito sa mga pangyayari noon at ngayon"},
    {"label": "COGNITIVE", "pattern": "pagkakalito sa kung nasaan sila"},
    {"label": "COGNITIVE", "pattern": "pagbabago ng personalidad"},
    {"label": "COGNITIVE", "pattern": "pagbaling ng usapan sa ibang direksyon"},
    
    # Elder-specific medical conditions
    {"label": "DISEASE", "pattern": "mabagal na paggaling ng sugat"},
    {"label": "DISEASE", "pattern": "bed sore"},
    {"label": "DISEASE", "pattern": "pressure ulcer"},
    {"label": "DISEASE", "pattern": "presyon sa balat"},
    {"label": "DISEASE", "pattern": "pagbaba ng cognitive function"},
    {"label": "DISEASE", "pattern": "paghina ng pag-iisip"},
    {"label": "DISEASE", "pattern": "sundowning"},
    {"label": "DISEASE", "pattern": "pagkabalisa sa gabi"},
    {"label": "DISEASE", "pattern": "vascular dementia"},
    {"label": "DISEASE", "pattern": "Parkinson's"},
    {"label": "DISEASE", "pattern": "mild cognitive impairment"},
    {"label": "DISEASE", "pattern": "frontotemporal dementia"},
    {"label": "DISEASE", "pattern": "Lewy body dementia"},
    {"label": "DISEASE", "pattern": "polypharmacy"},
    {"label": "DISEASE", "pattern": "sarcopenia"},
    {"label": "DISEASE", "pattern": "frailty syndrome"},
    {"label": "DISEASE", "pattern": "presbycusis"},
    {"label": "DISEASE", "pattern": "pagkawala ng pandinig"},
    {"label": "DISEASE", "pattern": "pagbaba ng paningin"},
    {"label": "DISEASE", "pattern": "macular degeneration"},
    {"label": "DISEASE", "pattern": "pagkawala ng balanse"},
    {"label": "DISEASE", "pattern": "panghihina ng buto"},
    {"label": "DISEASE", "pattern": "pagkawala ng laman ng buto"},
    {"label": "DISEASE", "pattern": "osteoporosis"},
    {"label": "DISEASE", "pattern": "pagkawala ng gitnang bahagi ng pangdinig"},
    {"label": "DISEASE", "pattern": "pagkalito sa gabi"},
    {"label": "DISEASE", "pattern": "pagkalayu-layo sa realidad"},
    {"label": "DISEASE", "pattern": "pagkawala ng katuturan sa buhay"},
    {"label": "DISEASE", "pattern": "mabilis na pagbaba ng cognitive function"},
    {"label": "DISEASE", "pattern": "pagkawala ng memorya para sa mga bagong pangyayari"},
    {"label": "DISEASE", "pattern": "sakit sa kasukasuan dahil sa edad"},
    {"label": "DISEASE", "pattern": "pagliit ng taas dahil sa edad"},
    {"label": "DISEASE", "pattern": "pagbabago ng pandinig"},
    {"label": "DISEASE", "pattern": "pagkawala ng pantimbanang sistema"},
    {"label": "DISEASE", "pattern": "frailty syndrome sa matatanda"},
    {"label": "DISEASE", "pattern": "multiple medication syndrome"},
    
    # Functional assessment terms
    {"label": "ADL", "pattern": "pag-aalaga sa sarili"},
    {"label": "ADL", "pattern": "independiyenteng pamumuhay"},
    {"label": "ADL", "pattern": "pag-aayos ng sarili"},
    {"label": "ADL", "pattern": "paghuhugas ng kamay at mukha"},
    {"label": "ADL", "pattern": "pagsusuklay"},
    {"label": "ADL", "pattern": "pag-aahit"},
    {"label": "ADL", "pattern": "paglalagay ng makeup"},
    {"label": "ADL", "pattern": "pagpunta sa banyo"},
    {"label": "ADL", "pattern": "paggamit ng toilet"},
    {"label": "ADL", "pattern": "paghuhugas ng ngipin"},
    {"label": "ADL", "pattern": "paglalaba ng sariling damit"},
    {"label": "ADL", "pattern": "paglilinis ng bahay"},
    {"label": "ADL", "pattern": "paggawa ng grocery"},
    {"label": "ADL", "pattern": "pagluluto ng pagkain"},
    {"label": "ADL", "pattern": "pag-inom ng gamot"},
    {"label": "ADL", "pattern": "paggamit ng telepono"},
    {"label": "ADL", "pattern": "pamamahala ng pera"},
    {"label": "ADL", "pattern": "paglalakbay sa komunidad"},
    {"label": "ADL", "pattern": "pagmamaneho"},
    {"label": "ADL", "pattern": "kakayahang magsuklay ng buhok"},
    {"label": "ADL", "pattern": "kakayahang mag-ahit"},
    {"label": "ADL", "pattern": "kakayahang maglinis ng sariling kuko"},
    {"label": "ADL", "pattern": "pagbubutones ng damit"},
    {"label": "ADL", "pattern": "pagsusuot ng medyas at sapatos"},
    {"label": "ADL", "pattern": "pagtayo mula sa upuan"},
    {"label": "ADL", "pattern": "pag-akyat ng hagdanan"},
    {"label": "ADL", "pattern": "pagkarga ng mga bagay"},
    {"label": "ADL", "pattern": "pagmamaneho ng sasakyan"},
    {"label": "ADL", "pattern": "pamamahala ng gamot"},
    {"label": "ADL", "pattern": "paggamit ng telepono"},
    {"label": "ADL", "pattern": "paghahanda ng simpleng pagkain"},
    {"label": "ADL", "pattern": "pagpunta sa banyo"},
    {"label": "ADL", "pattern": "pagkontrol sa pag-ihi"},
    {"label": "ADL", "pattern": "pagkontrol sa pagdumi"},
    {"label": "ADL", "pattern": "independiyenteng paglalakad"}
]

# More comprehensive evaluation patterns
additional_evaluation_patterns = [
    {"label": "RECOMMENDATION", "pattern": "kinakailangang bantayan"},
    {"label": "RECOMMENDATION", "pattern": "dapat regular na subaybayan"},
    {"label": "RECOMMENDATION", "pattern": "mabisang paraan"},
    {"label": "RECOMMENDATION", "pattern": "epektibong lunas"},
    {"label": "RECOMMENDATION", "pattern": "nararapat isagawa"},
    {"label": "RECOMMENDATION", "pattern": "pinakamainam na gawin"},
    {"label": "RECOMMENDATION", "pattern": "maaaring makatulong"},
    {"label": "RECOMMENDATION", "pattern": "mainam na ipagpatuloy"},
    {"label": "RECOMMENDATION", "pattern": "lubos na inirerekomenda"},
    {"label": "RECOMMENDATION", "pattern": "pinakaangkop na hakbang"},
    {"label": "RECOMMENDATION", "pattern": "makabubuting gawin"},
    
    # Nuanced care recommendations
    {"label": "TREATMENT_METHOD", "pattern": "paunti-unting pag-eehersisyo"},
    {"label": "TREATMENT_METHOD", "pattern": "mahinang ehersisyo"},
    {"label": "TREATMENT_METHOD", "pattern": "balance training"},
    {"label": "TREATMENT_METHOD", "pattern": "pagsasanay sa balanse"},
    {"label": "TREATMENT_METHOD", "pattern": "kontrol ng kirot"},
    {"label": "TREATMENT_METHOD", "pattern": "pamamahala ng sakit"},
    {"label": "TREATMENT_METHOD", "pattern": "pagiwas sa pagkahulog"},
    {"label": "TREATMENT_METHOD", "pattern": "fall prevention"},
    {"label": "TREATMENT_METHOD", "pattern": "memory exercises"},
    {"label": "TREATMENT_METHOD", "pattern": "pagsasanay ng memorya"},
    {"label": "TREATMENT_METHOD", "pattern": "malnutrition screening"},
    {"label": "TREATMENT_METHOD", "pattern": "pagtatasa ng nutrisyon"},
    {"label": "TREATMENT_METHOD", "pattern": "pagpapalakas ng kalamnan"},
    {"label": "TREATMENT_METHOD", "pattern": "pagsasanay para sa kahinaan"},
    {"label": "TREATMENT_METHOD", "pattern": "adaptive strategies"},
    {"label": "TREATMENT_METHOD", "pattern": "cognitive stimulation"},
    {"label": "TREATMENT_METHOD", "pattern": "pagpapasigla ng isipan"},
    {"label": "TREATMENT_METHOD", "pattern": "suporta sa pagkain"},
    
    # More specific warnings and monitoring
    {"label": "WARNING_SIGN", "pattern": "mabilis na pagbaba ng timbang"},
    {"label": "WARNING_SIGN", "pattern": "madalas na pagkahulog"},
    {"label": "WARNING_SIGN", "pattern": "matinding pagkahilo"},
    {"label": "WARNING_SIGN", "pattern": "hindi maipaliwanag na pasa"},
    {"label": "WARNING_SIGN", "pattern": "madalas na impeksyon"},
    {"label": "WARNING_SIGN", "pattern": "pagbabago ng mental status"},
    {"label": "WARNING_SIGN", "pattern": "mabilis na pagsama ng kalagayan"},
    {"label": "WARNING_SIGN", "pattern": "kahirapan sa paglunok"},
    {"label": "WARNING_SIGN", "pattern": "pagbaba ng interaksyon"},
    {"label": "WARNING_SIGN", "pattern": "pagtanggi sa pagkain"},
    {"label": "WARNING_SIGN", "pattern": "matinding pananakit"},
    {"label": "WARNING_SIGN", "pattern": "pagtaas ng sugat sa balat"},
    {"label": "WARNING_SIGN", "pattern": "pamumula at pamamaga sa paligid ng sugat"},
    {"label": "WARNING_SIGN", "pattern": "paglabas ng nana mula sa sugat"},
    {"label": "WARNING_SIGN", "pattern": "matinding pagtaas ng presyon ng dugo"},
    {"label": "WARNING_SIGN", "pattern": "mabilis na pagbaba ng lebel ng asukal"},
    {"label": "WARNING_SIGN", "pattern": "kakulangan sa oxygen"},
    {"label": "WARNING_SIGN", "pattern": "pagkawala ng ganang kumain ng mahigit isang linggo"},
    {"label": "WARNING_SIGN", "pattern": "hindi maipaliwanag na pasa"},
    {"label": "WARNING_SIGN", "pattern": "pagbabago ng kulay ng balat"},
    {"label": "WARNING_SIGN", "pattern": "pagbaba ng temperatura ng katawan"},
    {"label": "WARNING_SIGN", "pattern": "biglang pagkapantal"},
    {"label": "WARNING_SIGN", "pattern": "paulit-ulit na impeksyon"},
    {"label": "WARNING_SIGN", "pattern": "hindi gumagaling na sugat"},
    
    # Filipino culture-specific healthcare concepts
    {"label": "CULTURAL", "pattern": "hilot"},
    {"label": "CULTURAL", "pattern": "albularyo"},
    {"label": "CULTURAL", "pattern": "halamang gamot"},
    {"label": "CULTURAL", "pattern": "kulam"},
    {"label": "CULTURAL", "pattern": "usog"},
    {"label": "CULTURAL", "pattern": "pasma"},
    {"label": "CULTURAL", "pattern": "init sa katawan"},
    {"label": "CULTURAL", "pattern": "lamig sa katawan"},
    {"label": "CULTURAL", "pattern": "pilay"},
    {"label": "CULTURAL", "pattern": "bughat"},
    {"label": "CULTURAL", "pattern": "ba-i"},
    {"label": "CULTURAL", "pattern": "susto"},
    {"label": "CULTURAL", "pattern": "hilo sa hangin"},
    
    # Family care concepts
    {"label": "FAMILY_CARE", "pattern": "tagapag-alaga sa pamilya"},
    {"label": "FAMILY_CARE", "pattern": "pamilyang nag-aalaga"},
    {"label": "FAMILY_CARE", "pattern": "tulong ng pamilya"},
    {"label": "FAMILY_CARE", "pattern": "suporta ng mga anak"},
    {"label": "FAMILY_CARE", "pattern": "pamilyang sumusuporta"},
    {"label": "FAMILY_CARE", "pattern": "pagod sa pag-aalaga"},
    {"label": "FAMILY_CARE", "pattern": "caregiver stress"},
    {"label": "FAMILY_CARE", "pattern": "caregiver burden"},
    {"label": "FAMILY_CARE", "pattern": "pagpapahinga ng tagapag-alaga"},
    {"label": "FAMILY_CARE", "pattern": "respite care"},
    {"label": "FAMILY_CARE", "pattern": "multi-generation na pag-aalaga"},
    {"label": "FAMILY_CARE", "pattern": "shared caregiving"},
    {"label": "FAMILY_CARE", "pattern": "pagpapahinga ng primary caregiver"},
    {"label": "FAMILY_CARE", "pattern": "rotasyon ng mga miyembro ng pamilya"},
    {"label": "FAMILY_CARE", "pattern": "pagkawala ng privacy ng tagapag-alaga"},
    {"label": "FAMILY_CARE", "pattern": "financial burden sa pamilya"},
    {"label": "FAMILY_CARE", "pattern": "emotional strain sa mga anak"},
    {"label": "FAMILY_CARE", "pattern": "pag-aalaga habang may trabaho"},
    {"label": "FAMILY_CARE", "pattern": "long-distance caregiving"},
    {"label": "FAMILY_CARE", "pattern": "pagsasama ng maraming henerasyon"},
    {"label": "FAMILY_CARE", "pattern": "pagbabago ng papel sa pamilya"},
    {"label": "FAMILY_CARE", "pattern": "pagbabago ng relasyon sa asawa"},
    {"label": "FAMILY_CARE", "pattern": "pagtutulungan ng magkakapatid"},
    {"label": "FAMILY_CARE", "pattern": "pagbabawas ng oras para sa sariling pamilya"},
    {"label": "FAMILY_CARE", "pattern": "pagod sa pagiging sandwich generation"},
    {"label": "FAMILY_CARE", "pattern": "pag-aalaga sa magulang habang may anak pa"},
    {"label": "FAMILY_CARE", "pattern": "pagkawala ng oras para sa sarili"}
]

all_patterns = []
all_patterns.extend(medical_patterns)
all_patterns.extend(additional_patterns)
all_patterns.extend(evaluation_patterns)
all_patterns.extend(more_evaluation_patterns)
all_patterns.extend(additional_medical_patterns)
all_patterns.extend(additional_evaluation_patterns)

# Now check if entity_ruler exists and add it if needed
if "entity_ruler" not in nlp.pipe_names:
    print("Creating new entity_ruler")
    ruler = nlp.add_pipe("entity_ruler", before="ner")
else:
    print("Using existing entity_ruler")
    ruler = nlp.get_pipe("entity_ruler")

# Add patterns just once (after ruler is guaranteed to exist)
ruler.add_patterns(all_patterns)
print(f"Added {len(all_patterns)} patterns to entity ruler")

# Verify the patterns were added
if hasattr(ruler, "patterns") and len(ruler.patterns) > 0:
    print(f"Entity ruler has {len(ruler.patterns)} patterns")
else:
    print("WARNING: Entity ruler has no patterns")


@app.route('/health', methods=['GET'])
def health_check():
    """Simple health check endpoint"""
    return jsonify({
        "status": "healthy",
        "model": nlp.meta.get("lang", "unknown"),
        "pipeline": nlp.pipe_names
    })

def generate_tagalog_summary_with_openai(text, doc_type="assessment"):
    prompt = (
        f"Buodin mo ang sumusunod na {doc_type} sa Tagalog. "
        "Gamitin ang malinaw at propesyonal na wika. "
        "Simulan ang executive summary sa isang maikling pambungad na nagpapaliwanag ng layunin ng ulat. "
        "Isulat ang buod na hindi lalampas sa 9 na pangungusap. "
        "Tiyaking ang buod ay direkta, at nakatuon lamang sa pinakamahalagang impormasyon. "
        "Tapusin ang executive summary sa isang malinaw na konklusyon. "
        "Huwag magdagdag ng detalye na wala sa orihinal na teksto.\n\n"
        f"{text}\n\nExecutive Summary:"
    )

    response = client.chat.completions.create(
        model="gpt-4.1-mini",
        messages=[{"role": "user", "content": prompt}],
        temperature=0.4,
        max_tokens=1500
    )

    # Log token usage
    if hasattr(response, "usage") and response.usage:
        print(f"OpenAI token usage: prompt={response.usage.prompt_tokens}, completion={response.usage.completion_tokens}, total={response.usage.total_tokens}")

    # Remove "Executive Summary:" heading if present
    summary = response.choices[0].message.content.strip()
    if summary.lower().startswith("executive summary:"):
        summary = summary[len("executive summary:"):].lstrip()
    return summary

@app.route('/summarize', methods=['POST'])
def summarize_text():
    """Summarize Tagalog text using calamancy for sectioning and OpenAI for executive summary."""
    if not request.is_json:
        return jsonify({"error": "Request must be JSON"}), 400

    data = request.json
    text = data.get('text', '')
    doc_type = data.get('type', '')

    if not text:
        return jsonify({"error": "Empty text provided"}), 400

    try:
        start_time = time.time()

        # Clean and normalize the text
        cleaned_text = clean_and_normalize_text(text)

        # Process text with calamancy
        doc = nlp(cleaned_text)

        # Extract original sentences
        sentences = split_into_sentences(cleaned_text)
        print(f"Found {len(sentences)} sentences in text")

        # Extract entities
        try:
            entities = []
            for ent in doc.ents:
                entities.append({
                    "text": ent.text,
                    "label": ent.label_,
                    "start_char": ent.start_char,
                    "end_char": ent.end_char
                })
        except Exception as e:
            print(f"Entity extraction error: {e}")
            entities = []

        # Extract key medical terms
        try:
            key_terms = extract_important_terms(cleaned_text, count=5, doc_type=doc_type)
        except Exception as e:
            print(f"Term extraction error: {e}")
            key_terms = []

        # Extract sections using calamancy (no length limits)
        try:
            if doc_type.lower() == "evaluation":
                sections = extract_sections_for_evaluation(sentences)
            else:
                sections = extract_sections_improved(sentences, doc_type)

            # Ensure all section values are strings (join lists with newlines)
            if isinstance(sections, dict):
                for k, v in sections.items():
                    if isinstance(v, list):
                        sections[k] = "\n".join(str(item) for item in v)
                    elif v is None:
                        sections[k] = ""
                    else:
                        sections[k] = str(v)

            doc_context = analyze_document_context(sections, doc_type)

        except Exception as e:
            print(f"Section extraction error: {e}")
            traceback.print_exc()
            sections = {}
            doc_context = {"priority_sections": [], "key_entities": {}, "cross_section_themes": []}

        # Generate Tagalog executive summary using OpenAI
        try:
            summary = generate_tagalog_summary_with_openai(text, doc_type)
        except Exception as e:
            print(f"OpenAI summary generation error: {e}")
            traceback.print_exc()
            summary = "Hindi matagumpay ang AI executive summary. Mangyaring subukan muli."

        # # Final summary refinement (optional)
        # if summary and len(summary) > 20:
        #     summary = re.sub(r'\s+', ' ', summary)
        #     summary = re.sub(r'\s([,.;:])', r'\1', summary)
        #     if summary[0].islower():
        #         summary = summary[0].upper() + summary[1:]
        #     if not summary[-1] in ['.', '!', '?']:
        #         summary += '.'

        # Ensure all section values are strings (again, for safety)
        sections = {k: str(v) if v is not None else "" for k, v in sections.items()}

        # Calculate processing statistics
        processing_time = round((time.time() - start_time) * 1000)
        compression_ratio = round(len(text) / len(summary)) if len(summary) > 0 else 0

        return jsonify({
            "summary": summary,
            "sections": sections,
            "sentence_count": len(sentences),
            "entities": entities,
            "key_medical_terms": key_terms,
            "document_type": doc_type,
            "processing_stats": {
                "original_text_length": len(text),
                "summary_length": len(summary),
                "compression_ratio": compression_ratio,
                "processing_time_ms": processing_time,
                "entities_found": len(entities),
                "sections_count": len(sections)
            }
        })
    except Exception as e:
        print(f"Error processing text: {e}")
        traceback.print_exc()
        return jsonify({
            "summary": "Hindi matagumpay ang pagsusuri. Mangyaring subukan muli.",
            "error": str(e),
            "sections": {},
            "entities": [],
            "sentence_count": 0
        })

if __name__ == '__main__':
    print("Starting Flask server...")
    app.run(debug=False, host='0.0.0.0', port=5000)